<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> vanse</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="https://raw.githubusercontent.com/wangsidandan/blog_images/main/system/202205132245403.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">vanse</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['你好啊！', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article id="post-1-corejava" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>
  <div class="article-inner">
    
      <header class="article-header">
         
<h2 itemprop="name">
  <a class="article-title" href="/archives/1-corejava.html"
    >1-corejava</a> 
</h2>
 

          
      </header>
      
        
          <div class="article-meta">
            <a href="/archives/1-corejava.html" class="article-date">
  <time datetime="2023-08-27T09:13:31.000Z" itemprop="datePublished">2023-08-27</time>
</a>
              
                
                  
                    
          </div>
          

            
                  
                      <div class="article-entry" itemprop="articleBody">
                        
                          

                            

                                      

                                          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul>
<li><p>笔记: corejava</p>
</li>
<li><p>整理人: vanse(lc)</p>
</li>
<li><p>时间: 2023/7/19</p>
</li>
</ul>
<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><blockquote>
<p>术语</p>
</blockquote>
<ul>
<li>sdk  软件开发包(函数库) 比如支付sdk  监控skd 云存储sdk</li>
<li>jdk  开发工具包 提供了java运行的基类 System.out.println(“hello”) 开发者<ul>
<li>jdk包含jre</li>
</ul>
</li>
<li>jre 运行环境  使用者</li>
<li>api   第三方平台开发接口    我们写好接口给其他人  路径对应的功能代码/weather</li>
<li>api doucment  api文档 方法 类 参数的含义</li>
</ul>
<blockquote>
<p>jdk目录</p>
</blockquote>
<ul>
<li>bin 二进制文件</li>
<li>jre  运行时类库<ul>
<li>lib/rt.jar    jdk源码编译的字节码 System.class</li>
</ul>
</li>
<li>src.zip  jdk源码 System.java</li>
</ul>
<p>java程序</p>
<ul>
<li><p>编写源代码 vim Hello.java</p>
<ul>
<li>```java<br>public class Hello{<pre><code>public static void main(String[] args)&#123;
    System.out.println(&quot;hello world&quot;)
&#125;
</code></pre>
}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 编译源代码(java)  javac Hello.java</span><br><span class="line"></span><br><span class="line">- ==运行字节码(class)  java Hello==</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; 加上包的类</span><br><span class="line"></span><br><span class="line">- 1班tom    briup.Hello.java</span><br><span class="line"></span><br><span class="line">- 2班tom    vanse.Hello.java</span><br><span class="line"></span><br><span class="line">- javac -d 目录 Hello.java 编译期间自动根据包创建文件夹</span><br><span class="line"></span><br><span class="line">- java com.briup.Tom</span><br><span class="line"></span><br><span class="line">  ```java</span><br><span class="line">  // 定义包</span><br><span class="line">  package com.briup;  // ;结束</span><br><span class="line">  public class Tom&#123;</span><br><span class="line">      public static void main(String[] args)&#123;</span><br><span class="line">          System.out.println(&quot;hello world&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  --------------------------------------------------------------------------------</span><br><span class="line">  package com.vanse;</span><br><span class="line">  public class Tom&#123;</span><br><span class="line">      public static void main(String[] args)&#123;</span><br><span class="line">          System.out.println(&quot;hello world&quot;)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<blockquote>
<p>源码和字节码分离</p>
</blockquote>
<ol>
<li><p>mkdir src bin</p>
</li>
<li><p>touch src/Hello.java</p>
</li>
<li><p>vim src/Hello.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>javac -d bin/ src/Hello.java</p>
<ul>
<li>-d 指定字节码生成的位置</li>
</ul>
</li>
<li><p>java -cp bin/ com.briup.Hello</p>
<ul>
<li>-cp classpath 指定字节码加载的位置</li>
</ul>
</li>
</ol>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ul>
<li><p>单行注释  <code>// </code></p>
</li>
<li><p>多行注释 <code>/** /</code></p>
</li>
<li><p>文档注释 <code>/** */</code> javadoc  </p>
<ul>
<li><p>sts/eclipse默认的编码（window） GBK</p>
</li>
<li><p>修改为编码UTF-8 将来所有编码统一,不然会乱码</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308221430273.png" alt="image-20230721100629160"></p>
</li>
</ul>
</li>
</ul>
<h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><blockquote>
<p>标识符 限制</p>
</blockquote>
<ul>
<li>组成 _ $ 数字 字母</li>
<li>数字不能开头</li>
<li>不能是关键字</li>
</ul>
<blockquote>
<p>标识符 约定</p>
</blockquote>
<ul>
<li>常量: 全部大写 多个字母_分割  public static int STUDENT_NUM</li>
<li>变量: int a = studentNum;</li>
<li>方法名: getName(){}</li>
<li>类名: class Student 大写字母开头<ul>
<li>StudentManager</li>
</ul>
</li>
</ul>
<h1 id="类型-变量"><a href="#类型-变量" class="headerlink" title="类型|变量"></a>类型|变量</h1><h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><blockquote>
<p>万物都可为类型     基本类(使用频率高 虚拟机做了优化)</p>
</blockquote>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>字节数量 2^10=1024</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>byte</td>
<td>1</td>
<td>-2^7 - 2^7-1</td>
</tr>
<tr>
<td>short</td>
<td>2</td>
<td>32767</td>
</tr>
<tr>
<td>int</td>
<td>4</td>
<td>2147483647</td>
</tr>
<tr>
<td>long</td>
<td>8</td>
<td>-2^63-2^63-1</td>
</tr>
<tr>
<td>float</td>
<td>4</td>
<td></td>
</tr>
<tr>
<td>double</td>
<td>8</td>
<td></td>
</tr>
<tr>
<td>boolean</td>
<td>1</td>
<td>true/false</td>
</tr>
<tr>
<td>char</td>
<td>2 (unicode)</td>
<td>0-2^16-1 65535</td>
</tr>
</tbody></table>
<blockquote>
<p>整型 一个整数不指定类型默认使用int    int a = 10</p>
</blockquote>
<p>==最小的存储单位 字节byte   1个字母 1个字节==</p>
<p>==最小的传输单位 比特 bit   1 -&gt; 0000 0001==</p>
<p>一个字节 = 8个比特位</p>
<p>计算器存储容量的单位，常见的还有KB、M、G、T，换算过程如下：</p>
<ul>
<li>1KB (Kilobyte 千字节) = 1024B，其中1024=2^10 ( 2 的10次方) </li>
<li>1MB (Megabyte 兆字节 简称“兆”) = 1024KB</li>
<li>1GB (Gigabyte 吉字节 又称“千兆”) = 1024MB </li>
<li>1TB (Trillionbyte 万亿字节 太字节) = 1024GB</li>
</ul>
<blockquote>
<p>进制的由来 二进制0 1 符合计算规则 八进制 16进制简化二进制</p>
</blockquote>
<blockquote>
<p>负数如何表示二进制 第一个比特位当作符号</p>
</blockquote>
<p><strong>补充</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">byte</span> <span class="number">1</span>个字节 <span class="number">8</span>个比特</span><br><span class="line"></span><br><span class="line">计算机运算 符号位当作运算符号	</span><br><span class="line">正数 原 反 补 一样</span><br><span class="line">	<span class="number">1</span> <span class="number">0000</span> <span class="number">0001</span></span><br><span class="line">负数 第一位是符号位 <span class="number">1</span></span><br><span class="line">	原码(十进制的表示):第一位是符号位   <span class="number">1</span> <span class="number">000</span> <span class="number">0001</span></span><br><span class="line">	反码:除符号位取反<span class="number">0</span>-<span class="number">1</span>  <span class="number">1</span> <span class="number">111</span> <span class="number">1110</span></span><br><span class="line">	补码(计算):反码+<span class="number">1</span>			  <span class="number">1</span> <span class="number">111</span> <span class="number">1111</span></span><br><span class="line">计算机 <span class="number">1</span>+(-<span class="number">1</span>) 使用补码做计算</span><br><span class="line"><span class="number">1</span>     原码 <span class="number">0000</span> <span class="number">0001</span></span><br><span class="line">-<span class="number">1</span>	  原码 <span class="number">1000</span> <span class="number">0001</span></span><br><span class="line">		   <span class="number">1000</span> <span class="number">0010</span>    -<span class="number">2</span></span><br><span class="line">	</span><br><span class="line"><span class="number">1</span>     反码 <span class="number">0000</span> <span class="number">0001</span></span><br><span class="line">-<span class="number">1</span>	  反码 <span class="number">1111</span> <span class="number">1110</span></span><br><span class="line">		  <span class="number">1111</span> <span class="number">1111</span>  </span><br><span class="line">     原码: <span class="number">1000</span> <span class="number">0000</span>  == -<span class="number">0</span>  </span><br><span class="line">         <span class="number">0</span>已经能代表<span class="number">0</span>这个值</span><br><span class="line">         -<span class="number">0</span> 可以多替换一个值 -<span class="number">128</span></span><br><span class="line">		   </span><br><span class="line"></span><br><span class="line"><span class="number">1</span>     补码 <span class="number">0000</span> <span class="number">0001</span></span><br><span class="line">-<span class="number">1</span>	  补码 <span class="number">1111</span> <span class="number">1111</span></span><br><span class="line">		  <span class="number">10000</span> <span class="number">0000</span>   = <span class="number">0</span></span><br><span class="line">		  </span><br><span class="line">		  <span class="keyword">byte</span> : <span class="number">1</span>个字节   <span class="number">8</span>个bit</span><br><span class="line">		  -<span class="number">128</span> - <span class="number">127</span>  -<span class="number">2</span>^<span class="number">7</span> <span class="number">2</span>^<span class="number">7</span>-<span class="number">1</span></span><br><span class="line">		  最大值 <span class="number">0111</span> <span class="number">1111</span>  <span class="number">1000</span> <span class="number">0000</span> - <span class="number">1</span> = <span class="number">128</span>-<span class="number">1</span></span><br><span class="line">		  最小值 <span class="number">1111</span> <span class="number">1111</span>  -<span class="number">127</span>-<span class="number">1</span> -<span class="number">0</span>的位置 -<span class="number">128</span></span><br><span class="line">		  -<span class="number">127</span> - <span class="number">1</span></span><br><span class="line">		原  <span class="number">1111</span> <span class="number">1111</span> <span class="number">1000</span> <span class="number">0000</span> <span class="number">1000</span> <span class="number">0001</span></span><br><span class="line">		原  <span class="number">1000</span> <span class="number">0001</span> <span class="number">1111</span> <span class="number">1110</span> <span class="number">1111</span> <span class="number">1111</span></span><br><span class="line">							   <span class="number">110000</span> <span class="number">000</span></span><br><span class="line">							    <span class="number">1000</span> <span class="number">0000</span></span><br><span class="line">								</span><br><span class="line">		<span class="keyword">short</span>: <span class="number">2</span>  <span class="number">16</span></span><br><span class="line">				<span class="number">2</span>^<span class="number">15</span>-<span class="number">1</span> <span class="number">32768</span>-<span class="number">1</span> <span class="number">32767</span></span><br><span class="line">				</span><br><span class="line">		<span class="keyword">int</span>: <span class="number">32</span></span><br><span class="line">		</span><br><span class="line">		<span class="number">2</span>^<span class="number">31</span>-<span class="number">1</span>    <span class="number">214748</span> <span class="number">3647</span></span><br><span class="line">		</span><br><span class="line">		  </span><br><span class="line"><span class="keyword">char</span>  <span class="number">2</span>个字节   <span class="number">0</span> - <span class="number">65535</span>    <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span></span><br><span class="line">	无符号类型   <span class="number">0</span> - <span class="number">2</span>^<span class="number">16</span>-<span class="number">1</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>浮点型 默认double类型</p>
</blockquote>
<ul>
<li>float    float a = 3.14f</li>
<li>double  double b = 3.14</li>
</ul>
<blockquote>
<p>字符型 char  a   0-65535  (java使用的unicode编码)</p>
</blockquote>
<p><code>0110 0001 ===97 == 0141 === 0x61  ====&#39;a&#39;</code></p>
<p><strong>相关编码</strong></p>
<ul>
<li>ASCII   美国 127个字符 都能在计算机对应<ul>
<li>127 -&gt; 256 西欧</li>
</ul>
</li>
<li>GB2312 简体中文</li>
<li><strong>GBK 中文编码 window/sts/eclipse</strong></li>
<li>unicode 万国码(java字符类型使用的编码)<ul>
<li>unicode-2 </li>
<li>unicode-4</li>
</ul>
</li>
<li>==UTF-8==<ul>
<li>统一编码</li>
<li>自动伸缩</li>
</ul>
</li>
</ul>
<p><strong>特殊字符</strong></p>
<ul>
<li>\t 制表符</li>
<li>\n\r  回车换行</li>
<li>\ 转义字符</li>
<li>“%d %s”</li>
</ul>
<blockquote>
<p>布尔型</p>
</blockquote>
<p>true/false    1true 0false</p>
<blockquote>
<p>类型转换</p>
</blockquote>
<ul>
<li><p>隐式转换  低精度-&gt;高精度</p>
</li>
<li><p>强制转换 高精度-&gt;低精度 (==注意: 可能会丢失精度==)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.identify;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类型转换</span></span><br><span class="line"><span class="comment"> * 	小-&gt;大  隐式转换</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 自动转换 (隐式转换)</span></span><br><span class="line">		<span class="keyword">byte</span> a = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">int</span> b = a; </span><br><span class="line">		<span class="comment">// 强制转换(显示转换)</span></span><br><span class="line">		<span class="keyword">short</span> c = (<span class="keyword">short</span>) b;</span><br><span class="line">		System.out.println(b);</span><br><span class="line">		System.out.println(c);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> d = <span class="number">128</span>;  </span><br><span class="line">		<span class="keyword">byte</span> e = (<span class="keyword">byte</span>) d;</span><br><span class="line">		<span class="comment">// 00000.....10000000 取反+1</span></span><br><span class="line">		<span class="comment">//           10000000 补码 -0 -128</span></span><br><span class="line"><span class="comment">//					 01111111</span></span><br><span class="line"><span class="comment">//					 10000000</span></span><br><span class="line">		System.out.println(e);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> d1 = <span class="number">130</span>;   <span class="comment">// 128+2</span></span><br><span class="line">		<span class="comment">// 0000..... 1000 0010</span></span><br><span class="line">		<span class="comment">// 1000 0010 补码</span></span><br><span class="line">		<span class="comment">// 1111 1101</span></span><br><span class="line">		<span class="comment">// 1111 1110 原码  -126</span></span><br><span class="line">		<span class="keyword">byte</span> e1 = (<span class="keyword">byte</span>) d1;</span><br><span class="line">		System.out.println(e1);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>特殊情况</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.identify;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 特殊情况1 如果类型右边的值 在左边的范围类 允许</span></span><br><span class="line"><span class="comment"> * 特殊情况2 如果类型参与了运算,会自动提升为最高的类型</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 如果类型右边的值 在左边的范围类 允许</span></span><br><span class="line">		<span class="comment">// 默认数字是int</span></span><br><span class="line">		<span class="keyword">byte</span> a = <span class="number">127</span>;</span><br><span class="line">		<span class="keyword">short</span> b = <span class="number">32767</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 特殊情况2 如果类型参与了运算,会自动提升为最高的类型</span></span><br><span class="line">		<span class="keyword">byte</span> c = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">byte</span> d = <span class="number">11</span>;</span><br><span class="line">		<span class="keyword">int</span> e = c+d; <span class="comment">// 右边是int</span></span><br><span class="line">		<span class="keyword">int</span> f = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">float</span> g = <span class="number">11.0f</span>;</span><br><span class="line">		<span class="keyword">float</span> h = f+g;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><blockquote>
<p>变量: 类型+变量名+值</p>
</blockquote>
<ul>
<li>基本类型变量</li>
<li>引用类型变量<ul>
<li>类类型</li>
<li>数组 类类型 + []</li>
<li>接口</li>
</ul>
</li>
</ul>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><ul>
<li>宏观量 System.out.println(100)</li>
<li>final修饰的常量 public static final int A = 100</li>
</ul>
<h1 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h1><ul>
<li>算术 + - * /    <strong>%(取模)</strong> <ul>
<li>/ 取整</li>
<li>==++/– 自增自减 顺序== (不是在操作数栈中计算的,是直接在插槽中计算)<ul>
<li>++a 先＋1，再用ａ</li>
<li>a++ 先用a 再+1</li>
<li>注意;的结束,不管是前面还是后面 都要+1</li>
</ul>
</li>
<li><code>+</code> 拼接字符串</li>
</ul>
</li>
<li>赋值  =  += -=<ul>
<li><strong>+= 默认含类型转换</strong></li>
</ul>
</li>
<li>等值 &gt;= <code>==</code> &lt;= != </li>
<li><strong>逻辑</strong> <ul>
<li>&amp;  都为true | 有一个为true</li>
<li>&amp;&amp; || 短路   只看前面的表达式结果</li>
</ul>
</li>
<li><strong>位运算符</strong><ul>
<li><strong>&amp; 全为1 才为1</strong></li>
<li><strong>|   有一个1 为1</strong></li>
<li><strong>^ 相同为0 不同为1</strong></li>
<li>~ 0-1 1-0</li>
</ul>
</li>
<li>移位运算<ul>
<li><code>&gt;&gt;</code> 有符号右移</li>
<li><code>&lt;&lt;</code> 左移</li>
<li><code>&gt;&gt;&gt;</code> 无符号右移</li>
</ul>
</li>
<li>三目运算<ul>
<li>表达式?a:b</li>
</ul>
</li>
</ul>
<table><thead><tr><th>优先级</th><th>运算符</th><th>结合性</th></tr></thead><tbody><tr><td>1</td><td>( )　[ ] 　.</td><td>从左到右</td></tr><tr><td>2</td><td>! 　~　 ++　 –</td><td>从右到左</td></tr><tr><td>3</td><td>*　 /　 %</td><td>从左到右</td></tr><tr><td>4</td><td>+　 -</td><td>从左到右</td></tr><tr><td>5</td><td>&lt;&lt; 　&gt;&gt;　 &gt;&gt;&gt;</td><td>从左到右</td></tr><tr><td>6</td><td>&lt; 　&lt;=　 &gt; 　&gt;=　 instanceof</td><td>从左到右</td></tr><tr><td>7</td><td>== 　!=</td><td>从左到右</td></tr><tr><td>8</td><td>&amp;</td><td>从左到右</td></tr><tr><td>9</td><td>^</td><td>从左到右</td></tr><tr><td>10</td><td><code contenteditable="true">|</code></td><td>从左到右</td></tr><tr><td>11</td><td>&amp;&amp;</td><td>从左到右</td></tr><tr><td>12</td><td><code contenteditable="true">||</code></td><td>从左到右</td></tr><tr><td>13</td><td>? :</td><td>从左到右</td></tr><tr><td>14</td><td>= 　+= 　-= 　*=　 /=　 %=　 &amp;=　 <code contenteditable="true">|=</code>　 ^=　 ~= 　&lt;&lt;= 　&gt;&gt;=　 &gt;&gt;&gt;=</td><td>从右到左</td></tr><tr><td>15</td><td>，</td><td>从右到左</td></tr></tbody></table>



<h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><ul>
<li>顺序结构</li>
<li>分支结构<ul>
<li>if else   冗余</li>
<li>switch case 有局限性 byte char short int String(hashcode)</li>
</ul>
</li>
<li>循环结构 重复执行某一段逻辑<ul>
<li>for </li>
<li>while</li>
<li>do while 先执行一次循环体</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(  <span class="number">1.</span>初始值;<span class="number">2.</span>结束条件 ;<span class="number">4.</span>迭代 )&#123;</span><br><span class="line">   <span class="number">3.</span>循环体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="控制"><a href="#控制" class="headerlink" title="控制"></a>控制</h2><ul>
<li><strong>break</strong> 退出==当前==分支/循环结构<ul>
<li>如果想退出任意循环 + label标记</li>
</ul>
</li>
<li><strong>continue</strong> 退出本次(continue之后代码的不执行),继续下一次</li>
<li>return 结束整个方法 会影响循环外的代码</li>
<li>通过控制循环条件打破</li>
</ul>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="一维"><a href="#一维" class="headerlink" title="一维"></a>一维</h2><blockquote>
<p>使用场景: 一次存储多个数据 (容器)  </p>
</blockquote>
<p><strong>定义</strong>: 一块连续的内存空间</p>
<p><strong>定义方式:</strong>  类型 + []</p>
<ul>
<li>int + []  =  int[]    该容器可以存多个int类型 [1,2,3,4]</li>
<li>Student + [] = Student[]  该容器可以存多个Student类型 [new Student(),new Student(),s,s2]</li>
</ul>
<p><strong>赋值</strong> 引用类型    new +  类型[5]</p>
<p>​    <code>注意</code> 赋值的时候需要指定数组的容量</p>
<p>​    <code>注意</code> 引用类型变量的值 是一块地址值 不是基本值</p>
<p>​    <code>注意</code> 默认数组有初始值,和数组存储的类型有关系</p>
<p><strong>数组元素</strong></p>
<ul>
<li>通过 数组变量[下标] 可以取出数组元素</li>
<li>通过 数组变量[下标] 可以设置数组元素的值</li>
</ul>
<p><code>注意: 数组下标 0-数组的长度-1</code></p>
<p><strong>数组属性</strong> length属性</p>
<ul>
<li><p>可通过该属性循环操作</p>
</li>
<li><p>```java<br>package com.briup.array;<br>/*</p>
<pre><code>通过数组的长度 做循环操作
</code></pre>
<p> */<br>public class Test4 {</p>
<pre><code>public static void main(String[] args) &#123;
    // 1.声明并定义数组 容量是5
    int[] arr = new int[5];
    // 2.覆盖数组的默认值
        // 数组的属性length  获取数组的长度
    for (int i = 0; i &lt; arr.length; i++) &#123;
        arr[i] = i+1; // arr[0]  arr[1]
    &#125;
    // 3.取出数组的值
    for (int i = 0; i &lt; arr.length; i++) &#123;
        System.out.print(arr[i] + &quot;　&quot;);
    &#125;
    
    
&#125;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">**数组异常**</span><br><span class="line"></span><br><span class="line">- 空指针异常 </span><br><span class="line">  - 引用类型没有赋予地址的话,默认是空地址(null),当用空地址调用方法</span><br><span class="line">- 数组越界异常 下标 &lt;0  &gt; =lenth</span><br><span class="line"></span><br><span class="line">**补充: 增强for循环**</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">		// 增强for (语法糖) 没有索引,直接取</span><br><span class="line">		for (int value : arr) &#123;</span><br><span class="line">			System.out.println(value);</span><br><span class="line">		&#125;</span><br><span class="line">		// 反编译效果</span><br><span class="line">		for (int i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">			int value = arr[i];</span><br><span class="line">			System.out.println(value);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>java.lang.Arrays 操作数组的工具类</p>
</blockquote>
<ul>
<li>排序 sort()</li>
<li>查找 binarySearch();</li>
<li>打印 toString();</li>
<li>复制 copyOf();<ul>
<li>System.arrayCopy();</li>
</ul>
</li>
</ul>
<blockquote>
<p>可变参 : 本质是一个数组 接受多值和数组以及null</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">(<span class="keyword">int</span>... args)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>







<h2 id="二维"><a href="#二维" class="headerlink" title="二维"></a>二维</h2><blockquote>
<p>二维数组 <code>int [][] arr = new int[row][col]</code> row代表行(有几个一维数组) col代表列(各一维数组的长度)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 遍历凡是</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; arr.length; i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(intj = <span class="number">0</span>; j&lt; arr[i].length; j++)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><blockquote>
<p>类和对象</p>
</blockquote>
<ul>
<li>类: 一套模板(抽象) class类名<ul>
<li>静态行为 成员变量</li>
<li>动态行为 成员方法</li>
</ul>
</li>
<li>对象: 根据模板创建的具体个例(具体)<ul>
<li>new 类名()</li>
</ul>
</li>
<li>引用(变量)</li>
</ul>
<h2 id="成员"><a href="#成员" class="headerlink" title="成员"></a>成员</h2><h3 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h3><blockquote>
<p>成员变量和局部变量的区别</p>
</blockquote>
<ul>
<li>代码位置 成员: 方法外 类中</li>
<li>初始化  成员:有初始值</li>
<li>生命周期 (debug) 成员:随对象</li>
<li>内存位置 成员: 堆</li>
</ul>
<p><code>注意: 如果局部变量和成员变量同名,走局部变量(就近原则)</code></p>
<h3 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h3><ul>
<li><p>成员方法</p>
<ul>
<li><p>public 修饰符</p>
</li>
<li><p>int 返回值 没有就写void</p>
</li>
<li><p>方法名</p>
</li>
<li><p>参数 局部变量</p>
<ul>
<li><code>注意: java的参数传递只有值传递(拷贝值)</code><ul>
<li><strong>基本类型 值为具体数值</strong></li>
<li><strong>引用类型 值为引用地址</strong><ul>
<li>具体内容 不是值</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>异常声明 throws FileNotException</p>
</li>
<li><p>方法重载 参数的个数 顺序 类型不一致才能构成重载</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hello</span><span class="params">(<span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>方法递归(方法调用自己)</p>
<ul>
<li>```java<br>// 斐波那契 第7项13<pre><code>// 1 1 2 3 5 8  y=y(x) + y(x-1)
public static int getN(int n) &#123;
    if(n == 1 || n == 2 ) &#123;
        return 1;
    &#125;// 6 
    return getN(n-1) + getN(n-2);
&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">### 构造方法</span><br><span class="line"></span><br><span class="line">- 特点: 1. 没有返回值也不写void   2.方法名称和类名一样</span><br><span class="line"></span><br><span class="line">- java创建对象 通过new  本质就是调用构造方法</span><br><span class="line"></span><br><span class="line">- 可以重载 可以加参数</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">### 成员代码块</span><br><span class="line"></span><br><span class="line">&gt; 初始化普通成员变量  前提是(先执行完父类的初始化 声明 代码块 构造)</span><br><span class="line"></span><br><span class="line">- 声明时赋值  int a = 1;</span><br><span class="line">- **代码块赋值 &#123; a =2&#125; 会在构造器之前执行**</span><br><span class="line">- **构造器赋值** </span><br><span class="line"></span><br><span class="line">**如果同时出现**  归为方法init()</span><br><span class="line"></span><br><span class="line">1. 代码块和声明时赋值有先后关系</span><br><span class="line">2. 构造器在后面执行</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 成员内部类</span><br><span class="line"></span><br><span class="line">&gt; 使用场景: 当类和类的关系密切时(内部类可以方便获取外部类的成员),可以使用内部类 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; 成员内部类</span><br><span class="line"></span><br><span class="line">- 成员内部类可以直接获取外部类的任意成员</span><br><span class="line">- 外部类成员可以**通过内部类对象**访问内部类的任意成员</span><br><span class="line"></span><br><span class="line">**成员内部类和外部类的区别**</span><br><span class="line"></span><br><span class="line">- ==成员内部类不能拥有静态成员==</span><br><span class="line">  - 静态成员所在的内部类是外部类的普通成员,需要先创建外部类类对象才能开辟内存</span><br><span class="line"></span><br><span class="line">- 内部类可以加修饰符 private static protected</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; 静态内部类</span><br><span class="line"></span><br><span class="line">- 静态内部类可以直接访问外部类的成员</span><br><span class="line"></span><br><span class="line">  - 静态内部类的成员方法不能访问外部类的普通成员</span><br><span class="line"></span><br><span class="line">- 外部类可以访问静态内部类的所有成员</span><br><span class="line"></span><br><span class="line">  - 如果是静态成员 用静态内部类.成员</span><br><span class="line">  - 如果是普通成员 用静态内部类实例.成员</span><br><span class="line"></span><br><span class="line">- **静态内部类可以定义静态成员**</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; 局部内部类(了解即可)</span><br><span class="line"></span><br><span class="line">- 局部内部类只能在外部类定义的方法中使用。</span><br><span class="line">- 局部变量为final修饰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; ==**匿名内部类(局部内部类的简化写法)**====使用场景: 不想手动创建子类/实现类==</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">Thread t = new Thread()&#123;&#125;</span><br><span class="line">Runnable r = new Runnable()&#123;&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><blockquote>
<p>使用场景: 成员修饰符(属性) private </p>
</blockquote>
<ul>
<li>修饰字段</li>
<li>修饰方法</li>
<li>修饰构造器</li>
</ul>
<p>一般属性私有,并提供对应的set/get方法</p>
<p><code>如果构造器私有,其他类无法创建该类对象</code></p>
<table>
<thead>
<tr>
<th align="center">修饰符</th>
<th align="center">本类</th>
<th align="center">本包</th>
<th align="center">不同包的子类</th>
<th align="center">不同包的无关类</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>private 私有</strong></td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">default</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">protected 子类</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><strong>public 公有</strong></td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
</tbody></table>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><blockquote>
<p>使用场景: 将共性的代码抽取为父类 通过关键字extends 继承父类可获取父类的非私有成员</p>
</blockquote>
<p><code>注意</code></p>
<ol>
<li>java中是单继承,不能直接继承多个类,但是可以间接继承</li>
<li>子类只能继承父类的非私有成员,但是可以通过继承父类的公有方法访问</li>
<li>Object是所有引用类型的父类</li>
<li><strong>子类构造器执行之前,会先隐式调用父类无参构造器(super)</strong></li>
<li><strong>构造方法不能继承</strong></li>
</ol>
<blockquote>
<p>方法重写:  在子父类关系下,如果父类方法不满足子类特性,可重写父类的方法,将来调用的是子类重写的方法</p>
</blockquote>
<p><strong>重载</strong> 参数</p>
<ul>
<li>参数个数 类型 顺序</li>
</ul>
<p><strong>重写</strong> 一大两小 参数,方法名一致</p>
<ul>
<li><strong>重写后的方法 修饰符 &gt;= 父类方法</strong></li>
<li><strong>重写后的方法 返回值 &lt;= 父类方法</strong><ul>
<li>基本类型 =</li>
<li>引用类型 &lt;</li>
</ul>
</li>
<li>重写后的方法 异常 &lt;= 父类方法</li>
</ul>
<p><code>注意</code></p>
<ul>
<li>私有方法不可重写(不报错)</li>
<li>静态方法不可重写(不报错)</li>
<li>final修饰的方法不可重写(报错)</li>
</ul>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><blockquote>
<p>使用场景: 通常将父类/接口放在参数位置,复用代码</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">父类  变量 = <span class="keyword">new</span> 子类()</span><br><span class="line">接口  变量  = <span class="keyword">new</span> 实现类()</span><br><span class="line"> 成员变量  编译看父类 运行看父类</span><br><span class="line"> 成员方法  编译看父类 运行看子类</span><br><span class="line">    </span><br><span class="line">向下转型注意事项: <span class="keyword">instanceof</span></span><br></pre></td></tr></table></figure>





<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><h3 id="static"><a href="#static" class="headerlink" title="static"></a>static</h3><blockquote>
<p>使用场景: 将对象范围提升为类范围</p>
</blockquote>
<ol>
<li>static修饰的成员 属于类 所有对象共享 不属于对象</li>
<li>存储在方法区的静态中</li>
<li>可以直接使用类名调用</li>
<li>静态区内存优先于对象创建</li>
<li>静态不能访问非静态</li>
</ol>
<blockquote>
<p>修饰成员变量   静态成员变量</p>
</blockquote>
<ul>
<li>static不能修饰局部变量</li>
</ul>
<blockquote>
<p>修饰成员方法 静态成员方法</p>
</blockquote>
<ul>
<li>问题1: 成员方法存储位置(方法区) 静态方法存储位置(方法区的静态区)</li>
<li>问题2: 为什么静态方法不能访问普通成员变量</li>
<li>问题3: 为什么静态方法没有this的局部变量<ul>
<li>静态方法不能访问普通成员变量</li>
<li>局部变量不能加static</li>
</ul>
</li>
</ul>
<blockquote>
<p>修饰代码块 静态代码块 static{} 用于做类的初始化擦欧总</p>
</blockquote>
<ul>
<li>局部代码块 方法内</li>
<li>成员代码块 在构造器之前执行, 构造器执行几次,代码块执行几次</li>
<li>静态代码块 类加载一次,代码块执行一次</li>
</ul>
<blockquote>
<p>类初始化 cinit</p>
</blockquote>
<ul>
<li>声明时赋值 static int a = 1;</li>
<li>静态代码块赋值 static { a  = 2}</li>
</ul>
<p><strong>如果同时出现</strong>,谁在前面谁先执行</p>
<p>main函数最后执行</p>
<blockquote>
<p>类什么时候加载 (懒加载)</p>
</blockquote>
<p>什么时候用 什么时候加载类</p>
<blockquote>
<p>类什么时候初始化(静态代码块什么时候执行)</p>
</blockquote>
<ul>
<li>new</li>
<li>第一次使用了该类静态成员</li>
<li>调用父类的静态成员,只会初始化父类</li>
</ul>
<p><strong>类什么情况不会初始化</strong></p>
<ul>
<li>类型+[] 数组类型不会初始化</li>
<li>静态常量 编译期间确定</li>
</ul>
<p><code>补充: 类的加载过程   </code></p>
<ul>
<li>加载</li>
<li>链接<ul>
<li>校验  字节码检验</li>
<li><strong>准备  类成员开辟空间并赋初始值</strong></li>
<li>解析 符号引用解析</li>
</ul>
</li>
<li>初始化 cinit<ul>
<li>静态赋值以及静态代码块执行</li>
</ul>
</li>
</ul>
<h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><blockquote>
<p>this 指带将要创建的对象  (非静态方法 默认含有this的局部变量)</p>
</blockquote>
<ul>
<li>区分成员变量和局部变量  指代的就是当前对象</li>
<li>调用其他成员方法</li>
<li>调用其他构造器 <strong>只能放第一行</strong></li>
</ul>
<h3 id="super"><a href="#super" class="headerlink" title="super"></a>super</h3><blockquote>
<p>使用场景: 调用父类的成员</p>
</blockquote>
<ul>
<li>区分子类成员变量和父类成员变量</li>
<li>调用父类的成员方法</li>
<li>调用父类构造器      <strong>只能放第一行</strong></li>
</ul>
<p>==当调用其他构造器的时候,this()和super()不能同时使用==</p>
<h3 id="final"><a href="#final" class="headerlink" title="final"></a>final</h3><blockquote>
<p>使用场景: 限制类 方法 变量</p>
</blockquote>
<ul>
<li>final-修饰类 该类不可被继承 </li>
</ul>
<ul>
<li>final-修饰方法 该方法不可被重写</li>
</ul>
<ul>
<li>final-修饰变量 -&gt;常量 不能二次赋值 (显示初始化赋值)<ul>
<li>如果是基本类型变量 不能直接二次赋值</li>
<li>如果是引用类型变量 不能再指向新的地址,但是改原地址的内容</li>
</ul>
</li>
</ul>
<h3 id="abstract"><a href="#abstract" class="headerlink" title="abstract"></a>abstract</h3><blockquote>
<p>使用场景: 当父类的方法没有实际含义,需要被重写时,就定义为抽象方法</p>
</blockquote>
<p><strong>特点</strong></p>
<ul>
<li>类上加了abstract关键字即抽象类</li>
<li>含有抽象方法的类必须定义为抽象类</li>
<li><strong>抽象方法一定要被子类重写,除非子类也是抽象类</strong></li>
<li>抽象类不能实例化(new),但是有构造器(给子类使用 初始化父类成员)</li>
<li>抽象类可以同时存在普通方法和抽象方法</li>
</ul>
<p><strong>普通类和抽象类</strong></p>
<ul>
<li>抽象类: abstract</li>
<li>抽象类: 多了抽象方法</li>
<li>抽象类: 不能实例化</li>
</ul>
<p><strong>注意: abstract不能和final同时使用</strong></p>
<h3 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h3><blockquote>
<p>使用场景: 定义方法规范</p>
</blockquote>
<p><strong>特征</strong></p>
<ul>
<li>用interface修饰</li>
<li>成员变量都是 public static final</li>
<li>成员方法都是 public abstract</li>
</ul>
<p><strong>接口和抽象类</strong></p>
<ul>
<li><p>关键字不一样</p>
</li>
<li><p>接口 方法只能是抽象方法</p>
<ul>
<li><p>jdk8的新特性后可以有默认方法和静态方法实现</p>
</li>
<li><p>```java<br>default void show() {</p>
<p>}<br>static void hello() {</p>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">- 接口变量都是静态常量</span><br><span class="line"></span><br><span class="line">- 接口多实现(多继承) 类单继承</span><br><span class="line"></span><br><span class="line">  - 接口和接口 是多继承</span><br><span class="line">  - 类和接口是多实现</span><br><span class="line">  - 类和类 是单继承</span><br><span class="line"></span><br><span class="line">- 接口没有构造器</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 枚举</span><br><span class="line"></span><br><span class="line">&gt; 使用场景: 如果该类的对象个数明确,建议使用枚举</span><br><span class="line"></span><br><span class="line">- 该类默认使用final修饰,继承了Enum类</span><br><span class="line">- 写的**字符串**对象将来就是 static final 枚举类对象</span><br><span class="line">- 构造器私有</span><br><span class="line">- 方法</span><br><span class="line">  - Gender[] values()  返回该类的所有对象</span><br><span class="line">  - Gender valueOf(&quot;&quot;);</span><br><span class="line">  - getName(); 获取枚举对象名称</span><br><span class="line">  - getOrderinal() 获取枚举对象所在位置</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public enum Gender&#123;</span><br><span class="line">    MAN,WOMAN;  // 必须放第一行,如果后面有代码,加上分号做分割</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 获取枚举对象的方式</span><br><span class="line">Color blue = Color.blue;</span><br><span class="line">Color blue2 = Color.valueOf(&quot;blue&quot;);</span><br><span class="line">Color[] values = Color.values();</span><br><span class="line">Color blue3 = values[2];</span><br><span class="line">System.out.println(blue == blue2);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="系统基类"><a href="#系统基类" class="headerlink" title="系统基类"></a>系统基类</h1><blockquote>
<p>注意: java.lang下的类不需要通过import导入</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">基类</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">java.lang.System</td>
<td align="center">系统类 输入输出流</td>
</tr>
<tr>
<td align="center">java.lang.Math</td>
<td align="center">数学 绝对值 正余弦 平方 开方 Π</td>
</tr>
<tr>
<td align="center">java.util.Scanner</td>
<td align="center">扫描类</td>
</tr>
<tr>
<td align="center">java.util.Random</td>
<td align="center">随机数类</td>
</tr>
<tr>
<td align="center">java.util.Arrays</td>
<td align="center">操作数组的类</td>
</tr>
<tr>
<td align="center">java.lang.String</td>
<td align="center">字符串类型</td>
</tr>
<tr>
<td align="center">java.lang.Integer</td>
<td align="center">包装类</td>
</tr>
<tr>
<td align="center">…</td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h2><blockquote>
<p>使用: 当基本数据类型无法满足条件</p>
</blockquote>
<table>
<thead>
<tr>
<th>基本类型</th>
<th>包装类型</th>
</tr>
</thead>
<tbody><tr>
<td>byte</td>
<td>Byte</td>
</tr>
<tr>
<td>short</td>
<td>Short</td>
</tr>
<tr>
<td>int</td>
<td>Integer</td>
</tr>
<tr>
<td>long</td>
<td>Long</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>double</td>
<td>Double</td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
</tr>
<tr>
<td>char</td>
<td>Character</td>
</tr>
</tbody></table>
<p><strong>基本类型-&gt;包装类型</strong></p>
<ul>
<li><p>new Integer(基本类型)</p>
</li>
<li><p><strong>Integer.valueOf(基本类型) == 自动装箱: Integer a = 1;</strong></p>
<ul>
<li>默认会自动缓存[-128到127]的地址 (IntegerCache)</li>
</ul>
</li>
<li><hr>
</li>
</ul>
<p><strong>包装类型-&gt;基本类型</strong></p>
<ul>
<li>new Integer().intValue()</li>
<li>自动拆箱: int b = a;</li>
</ul>
<p>==基本类型和包装类型比较,只比较值. Integer重写equals也只比较值==</p>
<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><blockquote>
<p>equals: 使用场景: 当不想比较地址时</p>
</blockquote>
<ul>
<li><p><strong>==和equals的区别</strong></p>
</li>
<li><p>== 是操作符, 基本类型和引用类型都能使用</p>
<ul>
<li>基本类型比较值</li>
<li>引用类型比较地址</li>
</ul>
</li>
<li><p>equals是方法 引用类型才能用,默认比较地址</p>
<ul>
<li>将来可以重写比较逻辑</li>
</ul>
</li>
</ul>
<blockquote>
<p>hashcode() 可以理解为 地址经过hash 得到我们打印的值(hashcode)</p>
<p>使用场景: 利用hash特性快速比较对象</p>
</blockquote>
<ul>
<li>对象相同,hashcode相同</li>
<li>hashcode相同,对象不一定相同</li>
<li>hashcode不同,对象一定不同</li>
</ul>
<p>==<strong>equals和hashcode的关系</strong>==</p>
<ul>
<li>equals相同,hashcode相同</li>
<li>hashcode相同,equals不一定相同</li>
<li>hashcode不同,equals一定不同</li>
</ul>
<p>先比较hashcode,筛选一部分对象,再用equals比较</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308221430277.png" alt="image-20230804104244280"></p>
<blockquote>
<p>getClass 返回运行时的类,该方法无法重写</p>
<p>使用场景: 判断运行时的类型是否为同一个</p>
</blockquote>
<blockquote>
<p>toString 默认打印对象的全类名+@+对象hashcode的16进制字符串</p>
<p>使用场景: 查看对象日志</p>
</blockquote>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><blockquote>
<p>创建方式</p>
</blockquote>
<ul>
<li>String a = new String(“a”) 堆<ul>
<li>字符串常量池</li>
<li>堆 默认指向的地址</li>
</ul>
</li>
<li>String a “hello”   字符串常量池(堆/方法区)</li>
</ul>
<blockquote>
<p>String是不可变字符串,为什么?  由final字符数组构成</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestString</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String s = <span class="string">&quot;hello&quot;</span>; <span class="comment">// new String(&quot;hello&quot;);</span></span><br><span class="line">		setS(s); </span><br><span class="line">		System.out.println(s); <span class="comment">// hello</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setS</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">		s = <span class="string">&quot;world!!!&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">原因:</span><br><span class="line">    <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">    <span class="title">private</span> <span class="title">final</span> <span class="title">char</span>[] <span class="title">value</span></span>;</span><br><span class="line">    未提供修改字符内容的方法</span><br></pre></td></tr></table></figure>



<blockquote>
<p>StringBuilder 拼接字符 可变的字符数组 (原内容修改字符串)</p>
</blockquote>
<ul>
<li>new出来的字符串通过+拼接,默认使用StringBuilder拼接的</li>
</ul>
<p><strong>问题: 以下创建了几个对象</strong></p>
<ul>
<li><p>String b = “b”; 创建了几个对象 </p>
<ul>
<li>字符串常量池</li>
</ul>
</li>
<li><p>String a = new String(“a”); 创建了几个对象</p>
<ul>
<li>a 字符串常量池</li>
<li>new String(“a”) 默认指向堆中</li>
</ul>
</li>
<li><p><strong>String ab = new String(“a”) + new String(“b”)</strong></p>
<ul>
<li>字符串常量a </li>
<li>字符串常量b</li>
<li>堆 new String(“a”)</li>
<li>堆 new String(“b”)</li>
<li>new StringBuilder();</li>
<li>new StringBuilder().toString()   new String(“ab”)</li>
</ul>
</li>
</ul>
<p>**a.intern方法 **</p>
<ul>
<li>如果a已经存在于字符串常量池中,那么a不会放入,但是返回字符串常量池的引用</li>
<li>如果a不存在于字符串常量池中,那么a会放入(a指向字符串常量池),而且返回字符串常量池的引用</li>
</ul>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><blockquote>
<p>集合的结构</p>
</blockquote>
<ul>
<li>数据结构 (集合的特性) 栈 顺序表 树 队列</li>
<li>集合接口(方法规范) MyStack<ul>
<li>push(Object value)</li>
<li>pop()</li>
<li>peek();</li>
<li>show();</li>
</ul>
</li>
<li>集合实现类(数组实现 链表实现)<ul>
<li>ArrayStack</li>
<li>LinkedStack</li>
</ul>
</li>
</ul>
<h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><blockquote>
<p>单列容器(Collection) 广泛的概念, 提供通用的方法,具体的容器接口会继承该结构</p>
</blockquote>
<ul>
<li>通用方法 大小,清除内容,是否包含,添加,删除…</li>
<li>遍历方式<ul>
<li>数组遍历</li>
<li>增强for循环</li>
<li>迭代器遍历 extends Iterable</li>
</ul>
</li>
</ul>
<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><blockquote>
<p>List接口  具体容器 继承Collection     接口 实现类 动态数组/顺序表(数据结构)</p>
</blockquote>
<p><strong>特点</strong></p>
<ul>
<li>存取有序</li>
<li>带索引(不是数组索引)</li>
<li>元素重复</li>
</ul>
<p><strong>实现类</strong></p>
<ul>
<li>==ArrayList 本质是数组实现==<ul>
<li>增删慢 查找快</li>
<li>扩容1.5倍</li>
<li>线程不安全,效率快</li>
</ul>
</li>
<li>LinkedList 本质是双向链表<ul>
<li>增删快 查找慢</li>
</ul>
</li>
<li>Vector(Stack的父类) 本质是数组<ul>
<li>线程安全(锁),效率慢</li>
<li>扩容2倍</li>
</ul>
</li>
</ul>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p><strong>特性</strong></p>
<ul>
<li>存取无序</li>
<li>自动去重(hashcode和equals)</li>
<li>无索引</li>
</ul>
<blockquote>
<p>实现类 HashSet  底层使用哈希表</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308221430278.png" alt="image-20230809141254981"></p>
<p><strong>特性</strong></p>
<ul>
<li>存null</li>
<li>查找效率高</li>
<li>存取无序</li>
<li>去重</li>
<li>无索引</li>
</ul>
<blockquote>
<p>实现类 TreeSet -&gt; SortedSet-&gt;Set</p>
</blockquote>
<ul>
<li>排序<ul>
<li>自然排序 <strong><code>Comparable</code></strong>  Pojo实现该接口<ul>
<li>this.compareTo(Object o) <ul>
<li>第一次只有一个值 this == o</li>
<li>第二次this是新值 o是老值<ul>
<li>==新值的位置取决于返回值==<ul>
<li>返回正数 新值放后面</li>
<li>返回负数 新值放前面</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>比较器排序 <strong><code>Comparator</code></strong> 构造器加上该参数<ul>
<li>compareTo(Object o1,Object o2)<ul>
<li>第一次只有一个值 o1 == o2</li>
<li>第二次o1是新值 o2是老值</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>去重(根据Comparable.compareTo返回值 == 0)</li>
<li>无索引</li>
<li>不能存null</li>
</ul>
<blockquote>
<p>实现类 LinkedHashSet</p>
</blockquote>
<ul>
<li>存取有序</li>
<li>去重 </li>
<li>无索引</li>
<li>可以存null</li>
</ul>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><blockquote>
<p>双列容器(Map)</p>
</blockquote>
<p><strong>特性</strong></p>
<ul>
<li>键值对</li>
<li>特性和set相似 （主要说的是key）Set借助于Map实现<ul>
<li>不能重复</li>
<li>存取无序</li>
<li>无索引</li>
</ul>
</li>
</ul>
<p><strong>遍历方式</strong></p>
<ul>
<li>keySet  取出所有key，然后取value</li>
<li>entrySet 取出所有的Entry(键值结构)</li>
</ul>
<blockquote>
<p>实现类 HashMap  -》 HashSet</p>
</blockquote>
<p><strong>特征</strong></p>
<ul>
<li>存取无序</li>
<li>键不能重复,值能重复</li>
<li>==键值可以为空==</li>
<li>线程不安全</li>
</ul>
<blockquote>
<p>实现类HashTable 用法和HashMap一致</p>
</blockquote>
<ul>
<li>存取无序</li>
<li>键不能重复,值能重复</li>
<li>线程安全</li>
<li>==键值对都不能为空==</li>
</ul>
<blockquote>
<p>实现类 TreeMap</p>
</blockquote>
<ul>
<li><p><strong>排序</strong></p>
<ul>
<li>自然排序 Comparable</li>
<li>比较器排序 Comparator</li>
</ul>
</li>
<li><p>键不能重复,值能重复</p>
</li>
<li><p>==键不能为空==</p>
</li>
</ul>
<blockquote>
<p>linkedHashmap</p>
</blockquote>
<ul>
<li><strong>存取有序</strong></li>
<li>键值可以为空</li>
</ul>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><blockquote>
<p>使用场景： 代码复用，解决安全性问题</p>
</blockquote>
<p><strong>特征</strong></p>
<ul>
<li>类型参数化 &lt;&gt;</li>
<li>如果不加泛型，默认容器存储的类型是Object</li>
</ul>
<blockquote>
<p>泛型种类</p>
</blockquote>
<ul>
<li>泛型类</li>
<li>泛型接口</li>
<li>==泛型方法==<ul>
<li>泛型声明在方法前（和泛型类没有关系）</li>
<li>参数的泛型和返回的泛型一致</li>
</ul>
</li>
</ul>
<p>==注意： 泛型之间没有子父类关系,但是可以用？充当多态==</p>
<blockquote>
<p>通配符 ？</p>
</blockquote>
<ul>
<li>？是泛型的父类</li>
<li>但是只能遍历 不能添加，除了null</li>
</ul>
<blockquote>
<p>泛型边界 解决？接受类型宽泛的问题</p>
</blockquote>
<ul>
<li>泛型上限  &lt;? extends 具体类型&gt; <ul>
<li>？可以用子类型或者实现类</li>
</ul>
</li>
<li>泛型下限 &lt;? super 具体类型&gt;<ul>
<li>？可以用父类型或者接口类型</li>
</ul>
</li>
</ul>
<blockquote>
<p>泛型擦除 编译成功后，是没有泛型的</p>
</blockquote>
<ul>
<li>泛型不能构成重载</li>
<li>泛型擦除后统一为Object</li>
</ul>
<h1 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h1><blockquote>
<p>每个注解有特殊含义，将来编译器能识别</p>
<p>使用场景：自定义注解来判断方法权限</p>
</blockquote>
<blockquote>
<p>定义注解</p>
</blockquote>
<ul>
<li>每个注解上都有元注解 （修饰注解的注解）<ul>
<li>@Target 注解的使用范围 （默认是所有范围）<ul>
<li>METHOD</li>
<li>CLASS</li>
</ul>
</li>
<li>@Retention 注解的保留策略 （默认是CLASS）<ul>
<li>SOURCE</li>
<li>CLASS</li>
<li>==RUNTIME==</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD,ElementType.TYPE&#125;)</span> <span class="comment">// 元注解: 注解应用的位置</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span> <span class="comment">// 元注解: 保留策略</span></span><br><span class="line"><span class="meta">@interface</span> Role&#123;</span><br><span class="line">		<span class="comment">// 属性 @Role(name=&quot;guest&quot;);</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">	<span class="comment">// 如果属性的名字是value，可以省略@Role(&quot;admin&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><p>==学习目标==</p>
<ul>
<li>异常使用场景</li>
<li>异常种类</li>
<li>异常传播</li>
<li><strong>异常处理</strong><ul>
<li>抛出</li>
<li><strong>捕获(try catch finally)</strong></li>
</ul>
</li>
<li>断言(了解)</li>
</ul>
<blockquote>
<p>异常体系</p>
</blockquote>
<p>Throwable</p>
<ul>
<li><strong>Exception</strong></li>
<li>error</li>
</ul>
<blockquote>
<p>异常种类</p>
</blockquote>
<p>Exception</p>
<ul>
<li>编译时异常 继承Exception<ul>
<li>FileNotFoundException</li>
</ul>
</li>
<li>运行时异常 继承RuntimeExcetipn<ul>
<li>NullPointException</li>
<li>ClassCastException</li>
<li>ArthemticException</li>
<li>ArrayIndexOutofBoundsException</li>
<li>NumberFormatException</li>
</ul>
</li>
</ul>
<blockquote>
<p>异常传播</p>
</blockquote>
<p>异常如果没有人处理，会一直向调用者传递，直到jvm，打印信息到控制台</p>
<blockquote>
<p>异常处理</p>
</blockquote>
<ul>
<li>创建并抛出异常 throw<ul>
<li>自动抛出<ul>
<li>运行时异常</li>
<li>编译时异常<ul>
<li>通过throws先声明异常(具有传播行为)<ul>
<li>抛出者只能声明</li>
<li>调用者可以声明也可以处理</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>手动抛出<ul>
<li>运行时异常</li>
<li>编译时异常<ul>
<li>通过throws先声明异常</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>捕获异常 try catch [finally] （确保程序正常运行）<ul>
<li>try 中的代码可能会被捕获</li>
<li>catch<ul>
<li>参数的异常类型是比对捕获的类型</li>
<li>代码块是检测到异常后的行为，可不写</li>
</ul>
</li>
<li>finally 代码最终执行</li>
</ul>
</li>
</ul>
<p><strong>补充</strong></p>
<ul>
<li><p>try中有return</p>
<ul>
<li>finally没有，方法寄存了return中的值，增量无用</li>
<li><strong>finally有return, 覆盖try的值</strong></li>
</ul>
</li>
<li><p>try或者catch中有throw</p>
<ul>
<li><strong>先要执行finally，再回去执行throw的代码</strong></li>
<li>如果finally有return,会吞掉异常</li>
</ul>
</li>
</ul>
<p>==总之：finally中不要写return==</p>
<blockquote>
<p>断言 assert</p>
</blockquote>
<h1 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h1><blockquote>
<p>使用场景：多线程可以解决资源耗时  提升效率</p>
</blockquote>
<p>==学习目标==</p>
<ul>
<li>理解进程和线程</li>
<li><strong>线程的调度策略</strong></li>
<li>==线程的创建方式==</li>
<li>守护线程 优先级 线程组（了解）</li>
<li>==线程状态（笔试面试掌握）==</li>
<li><strong>==线程安全和线程通信==</strong></li>
<li>死锁</li>
</ul>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><blockquote>
<p>进程和线程</p>
</blockquote>
<p>进程指一个内存中运行的应用程序，它是系统运行程序的基本单位。</p>
<p>线程是进程中的一个执行单元，负责当前进程中程序的执行，一个进程中 至少有一个线程</p>
<p><strong>JVM支持多线程(如垃圾回收器)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01_JVM</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">1000000</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">new</span> Test(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 通知垃圾回收器 需要回收对象（不一定回收）</span></span><br><span class="line">		System.gc();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 当前线程睡眠3秒 此时不占用资源</span></span><br><span class="line">		Thread.sleep(<span class="number">300000</span>); </span><br><span class="line">		System.err.println(<span class="string">&quot;main end...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//main线程休眠3s </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.n = n;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当GC进行垃圾回收指定对象的时候，对象的finalize方法会被自动</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Test被销毁, n: &quot;</span> + n);</span><br><span class="line">		<span class="keyword">super</span>.finalize();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用jsconsole查看线程情况</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308221430279.png" alt="image-20230815103506854"></p>
<blockquote>
<p>线程调度策略（并发 单核）</p>
</blockquote>
<ul>
<li>多线程共享同一个cpu的 此时是轮流获取cpu</li>
<li>哪个线程获取了cpu，此时才能运行，没有获取cpu的，就等待<ul>
<li>获取到cpu的这段时间，叫时间片</li>
<li>时间片不会被某线程独享，会随机切换分配</li>
</ul>
</li>
<li>线程调度策略（分配时间片方案）<ul>
<li>轮流</li>
<li>抢占（jvm）<ul>
<li>线程等级高的优先获取时间片，如果等级一样，随机分配</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>内存分配</p>
</blockquote>
<ul>
<li>每个线程拥有各自的栈空间 互相独立</li>
<li>线程共享堆和方法区</li>
</ul>
<h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><blockquote>
<p>线程的创建方式 (线程的执行顺序不可控)</p>
</blockquote>
<ul>
<li><p>创建Thread/Thread子类</p>
</li>
<li><p>通过Runnable创建Thread (复用run方法)</p>
</li>
<li><p>通过Callable创建有返回值的线程</p>
<ul>
<li><strong>call方法虽然有返回值，但是会导致阻塞</strong></li>
</ul>
</li>
<li><p>通过线程池创建</p>
</li>
</ul>
<h2 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h2><blockquote>
<p>线程的种类（了解）</p>
</blockquote>
<ul>
<li>前台线程<ul>
<li>如果存在前台线程，jvm不会关闭</li>
<li>默认开启的线程是前台线程，可以手动设置为守护线程</li>
</ul>
</li>
<li>守护线程</li>
</ul>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><ul>
<li>静态方法<ul>
<li><strong>currentThread</strong></li>
</ul>
</li>
<li>普通方法<ul>
<li><strong>run 线程的执行逻辑 如果直接调用，不是新线程 是main线程</strong></li>
<li><strong>start 开启线程，会自动调用run</strong></li>
<li>set/getName() 设置、获取线程名字</li>
<li>setPriority(10) 设置线程优先级</li>
<li>setDaemon(true) 守护线程 </li>
<li>stop() 停止正在运行的线程（不建议使用 有安全隐患）</li>
</ul>
</li>
</ul>
<p>==触发线程状态转换的方法==</p>
<ul>
<li><p><strong>sleep(时间)</strong>  == TimeUnit.<strong>SECONDS</strong>.sleep(10);</p>
<ul>
<li>当前线程阻塞睡眠(timed_waitting)，10秒后会自动进入可运行状态(runnable)</li>
<li>期间不获取时间片，无法运行</li>
<li>在匿名内部类中不能抛出异常，只能捕获异常</li>
<li>单位是毫秒</li>
</ul>
</li>
<li><p>join()  t1.join</p>
<ul>
<li>当前线程阻塞无限等待(waitting)，等插入的线程执行完进入可运行状态(runnable)</li>
</ul>
</li>
<li><p>join(时间) t1.join   类似sleep</p>
<ul>
<li>当前线程阻塞有限等待(timed_waitting)，等时间过后完进入可运行状态(runnable)</li>
</ul>
</li>
<li><p>wait()</p>
</li>
<li><p>notify();</p>
</li>
</ul>
<h2 id="状态"><a href="#状态" class="headerlink" title="状态"></a>状态</h2><blockquote>
<p>==线程状态==</p>
</blockquote>
<ul>
<li>正常状态 NEW -&gt; RUNNBALE(Runnable(就绪)/Running（运行）) -&gt; TERMINED</li>
<li>阻塞状态<ul>
<li>timed_waitting 有限等待</li>
<li>waitting 无限等待</li>
<li>blocked 锁阻塞</li>
</ul>
</li>
</ul>
<blockquote>
<p>状态变化</p>
</blockquote>
<ul>
<li><p>NEW </p>
<ul>
<li>创建线程时</li>
</ul>
</li>
<li><p>RUNNABLE</p>
<ul>
<li>start-》就绪  时间片-》运行</li>
<li>sleep时间结束回到就绪状态</li>
<li>join插入的线程执行完</li>
<li>join时间过后</li>
<li>处于锁阻塞的线程抢到锁后</li>
<li>notify/notify();</li>
</ul>
</li>
<li><p>TIMED_WAITTING</p>
<ul>
<li>sleep(时间)</li>
<li>join(时间)</li>
</ul>
</li>
<li><p>WAITTING</p>
<ul>
<li>join(); 本质就是调用wait() t1.join()</li>
<li>wait();</li>
</ul>
</li>
<li><p>BLOCKED</p>
<ul>
<li>线程没抢到锁</li>
</ul>
</li>
<li><p>TERMINATED</p>
<ul>
<li>run方法结束</li>
</ul>
</li>
</ul>
<h2 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h2><blockquote>
<p>线程安全问题 （多线程 并发 <strong>写</strong> <strong>共享资源</strong>，可能导致读的预期效果不一致）</p>
</blockquote>
<p>解决思路： 控制临界资源只能同时被一个线程访问</p>
<p>==安全和效率==</p>
<ul>
<li>线程安全 效率低  StringBuffer  Vector</li>
<li>线程不安全 效率高 StringBuilder ArrayList</li>
</ul>
<p>兼顾安全和效率(并发专题 无锁机制 cas)</p>
<ul>
<li><p>通过工具类将线程不安全的转为线程安全</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.safe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * StringBuilder 拼接字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStringBuilder</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		StringBuffer sb1 = <span class="keyword">new</span> StringBuffer(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		<span class="comment">// 链式编程 在字符数组自身改变</span></span><br><span class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		String finalS = sb.append(<span class="string">&quot;b&quot;</span>).append(<span class="string">&quot;c&quot;</span>).toString();</span><br><span class="line">		System.out.println(finalS);</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		s+= &quot;bc&quot;; 字符数组没有提供设置内容的方法</span></span><br><span class="line">		</span><br><span class="line">		List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">// 线程安全的ArrayList</span></span><br><span class="line">		List&lt;String&gt; synchronizedList = Collections.synchronizedList(list);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>具体方案 锁机制</strong></p>
<ul>
<li>synchronized jdk提供的默认关键字，可对临界区上锁，保护资源<ul>
<li>修饰代码块 同步（原子）代码块<ul>
<li>用对象充当锁</li>
<li>用类充当锁</li>
</ul>
</li>
<li>修饰方法 同步方法 只要保证同一个锁对象即可<ul>
<li>如果是普通方法 锁对象是当前对象this</li>
<li>如果是静态方法 锁对象是当前类</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>==注意： 多个线程必须使用同一把锁对象==</p>
<h2 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h2><blockquote>
<p>线程通信 （解决线程之间以某种规则运行的问题）</p>
<p>生产消费队列模型（mq）</p>
</blockquote>
<p>通过等待唤醒机制 Object的方法wait和notify</p>
<ul>
<li>wait() 当前线程进入无限等待状态,除非调用同一个锁对象的唤醒方法<ul>
<li>会释放锁</li>
<li>可能存在虚假唤醒的问题</li>
</ul>
</li>
<li>notify() 将等待池中的某个线程唤醒</li>
<li>notfifyAll() 唤醒等待池中的所有线程唤醒</li>
</ul>
<p>这两个方法都需要在同步资源中使用，并且需要用锁对象调用</p>
<p>案例1： 线程1-5 线程2 11-15 线程1 6-10 线程2 16-20</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.communication;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程通信1</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> Object mutex = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(<span class="string">&quot;t1 &quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 1-10</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="comment">// 此时锁范围可以放大，因为wait等待时会释放锁</span></span><br><span class="line">				<span class="keyword">synchronized</span> (mutex) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">						System.out.println(<span class="keyword">this</span>.getName() + i);</span><br><span class="line">						<span class="keyword">if</span> (i == <span class="number">5</span>) &#123;</span><br><span class="line">							<span class="comment">// 该线程进入无限等待 除非有人唤醒</span></span><br><span class="line">							<span class="comment">// 该方法必须在同步中使用</span></span><br><span class="line">							<span class="comment">// 该方法必须是同一个锁对象调用</span></span><br><span class="line">							<span class="keyword">try</span> &#123;</span><br><span class="line">								<span class="comment">// 1. 1 2 3 4 5</span></span><br><span class="line">								mutex.notify();</span><br><span class="line">								mutex.wait();</span><br><span class="line">							&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">								e.printStackTrace();</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					mutex.notify();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		Thread t2 = <span class="keyword">new</span> Thread(<span class="string">&quot;  t2 &quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 10-20</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">synchronized</span> (mutex) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">11</span>; i &lt;= <span class="number">20</span>; i++) &#123;</span><br><span class="line">						System.out.println(<span class="keyword">this</span>.getName() + i);</span><br><span class="line">						<span class="keyword">if</span> (i == <span class="number">15</span>) &#123;</span><br><span class="line">							<span class="keyword">try</span> &#123;</span><br><span class="line">								<span class="comment">// 2. 15-20</span></span><br><span class="line">								<span class="comment">// 等待之前应该把t1唤醒</span></span><br><span class="line">								mutex.notify();</span><br><span class="line">								mutex.wait();</span><br><span class="line">							&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">								e.printStackTrace();</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					mutex.notify();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		t2.start();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">1</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		t1.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>案例2 小明和小红有一个共同账户，小明一直存钱，存完之后小红可以一直取钱</p>
<ul>
<li>小红（没钱等小明存完再取）<ul>
<li>没钱wait </li>
<li>取完后唤醒小明存钱</li>
</ul>
</li>
<li>小明 (账户&lt;1000 存）<ul>
<li>余额&gt;1000 wait</li>
<li>每次存完钱 唤醒小红</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.communication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 双线程 通信取钱 无需轮流</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Account a = <span class="keyword">new</span> Account();</span><br><span class="line">		Random random = <span class="keyword">new</span> Random();</span><br><span class="line">		Thread t1 =<span class="keyword">new</span> Thread(<span class="string">&quot;小明&quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 存钱</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">					a.deposit(random.nextInt(<span class="number">1000</span>));</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		Thread t2 =<span class="keyword">new</span> Thread(<span class="string">&quot;小红&quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 取钱</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">					a.withdraw(random.nextInt(<span class="number">1000</span>));</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 共同账户</span></span><br><span class="line">	<span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">int</span> balance; <span class="comment">// 余额</span></span><br><span class="line">		<span class="comment">// 存钱</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">deposit</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">while</span>(balance &gt; <span class="number">1000</span>) &#123;</span><br><span class="line">					wait(); <span class="comment">// 当余额&gt;1000 等小红取钱</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 存钱逻辑（被小红唤醒了）</span></span><br><span class="line">			balance += money;</span><br><span class="line">			String name = Thread.currentThread().getName();</span><br><span class="line">			System.out.printf(<span class="string">&quot;%s存了%d,余额为%d\n&quot;</span>,name,money,balance);</span><br><span class="line">			notify(); <span class="comment">// 通知小红（有可能在等待）</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 取钱</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="comment">// 可能有虚假唤醒的问题</span></span><br><span class="line">				<span class="keyword">while</span>(money &gt;= balance) &#123;</span><br><span class="line">					wait(); <span class="comment">// 取的钱不能大于余额 | 没有钱 等小明存钱</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 取钱逻辑（被小明唤醒了）</span></span><br><span class="line">			balance -= money;</span><br><span class="line">			String name = Thread.currentThread().getName();</span><br><span class="line">			System.out.printf(<span class="string">&quot;%s取了%d,余额为%d\n&quot;</span>,name,money,balance);</span><br><span class="line">			notify(); <span class="comment">// 通知小明（有可能在等待）</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 效果：</span></span><br><span class="line"><span class="comment"> *  小明存了 10</span></span><br><span class="line"><span class="comment"> *  小明存了 20</span></span><br><span class="line"><span class="comment"> *  小明存了 980（此时余额&gt;1000 不会继续存了，等小红取）</span></span><br><span class="line"><span class="comment"> *  小红取了800 （如果继续取的钱大于余额，不能再取了，等小明存）</span></span><br><span class="line"><span class="comment"> *  小明存了 100</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>案例3 小明和小红和小绿有一个共同账户，小明一直存钱，存完之后小红和小绿可以一直取钱</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.communication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 双线程 通信取钱 无需轮流</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Account a = <span class="keyword">new</span> Account();</span><br><span class="line">		Random random = <span class="keyword">new</span> Random();</span><br><span class="line">		Thread t1 =<span class="keyword">new</span> Thread(<span class="string">&quot;小明&quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 存钱</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">					a.deposit(random.nextInt(<span class="number">1000</span>));</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		Thread t2 =<span class="keyword">new</span> Thread(<span class="string">&quot;小红&quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 取钱</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">					a.withdraw(random.nextInt(<span class="number">1000</span>));</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		Thread t3 =<span class="keyword">new</span> Thread(<span class="string">&quot;小绿&quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 取钱</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">					a.withdraw(random.nextInt(<span class="number">1000</span>));</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">		t3.start();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 共同账户</span></span><br><span class="line">	<span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">int</span> balance; <span class="comment">// 余额</span></span><br><span class="line">		<span class="comment">// 存钱</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">deposit</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">while</span>(balance &gt; <span class="number">1000</span>) &#123;</span><br><span class="line">					wait(); <span class="comment">// 当余额&gt;1000 等小红取钱</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 存钱逻辑（被小红唤醒了）</span></span><br><span class="line">			balance += money;</span><br><span class="line">			String name = Thread.currentThread().getName();</span><br><span class="line">			System.out.printf(<span class="string">&quot;%s存了%d,余额为%d\n&quot;</span>,name,money,balance);</span><br><span class="line">			notifyAll(); <span class="comment">// 通知小红（有可能在等待）</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 取钱</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="comment">// 可能有虚假唤醒的问题</span></span><br><span class="line">				<span class="keyword">while</span>(money &gt;= balance) &#123;</span><br><span class="line">					wait(); <span class="comment">// 取的钱不能大于余额 | 没有钱 等小明存钱</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 取钱逻辑（被小明唤醒了）</span></span><br><span class="line">			balance -= money;</span><br><span class="line">			String name = Thread.currentThread().getName();</span><br><span class="line">			System.out.printf(<span class="string">&quot;%s取了%d,余额为%d\n&quot;</span>,name,money,balance);</span><br><span class="line">			notifyAll(); <span class="comment">// 通知小明（有可能在等待）</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 效果： </span></span><br><span class="line"><span class="comment"> *  小明存了 10</span></span><br><span class="line"><span class="comment"> *  小明存了 20</span></span><br><span class="line"><span class="comment"> *  小明存了 980（此时余额&gt;1000 不会继续存了，等小红取）</span></span><br><span class="line"><span class="comment"> *  小红取了800 （如果继续取的钱大于余额，不能再取了，等小明存）</span></span><br><span class="line"><span class="comment"> *  小明存了 100</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>案例3： 小明和小红依次存取钱</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.communication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 双线程 通信取钱 轮流</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Account a = <span class="keyword">new</span> Account();</span><br><span class="line">		Random random = <span class="keyword">new</span> Random();</span><br><span class="line">		Thread t1 =<span class="keyword">new</span> Thread(<span class="string">&quot;小明&quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 存钱</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">					a.deposit(random.nextInt(<span class="number">1000</span>));</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		Thread t2 =<span class="keyword">new</span> Thread(<span class="string">&quot;小红&quot;</span>) &#123;</span><br><span class="line">			<span class="comment">// 取钱</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">					a.withdraw(random.nextInt(<span class="number">1000</span>));</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">100</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 共同账户</span></span><br><span class="line">	<span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span></span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">int</span> balance; <span class="comment">// 余额</span></span><br><span class="line">		<span class="keyword">boolean</span> flag; <span class="comment">// 默认false 是否存过</span></span><br><span class="line">		<span class="comment">// 存钱</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">deposit</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">while</span>(flag) &#123; <span class="comment">// 不会执行</span></span><br><span class="line">					wait(); </span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 存钱逻辑（被小红唤醒了）</span></span><br><span class="line">			balance += money;</span><br><span class="line">			String name = Thread.currentThread().getName();</span><br><span class="line">			System.out.printf(<span class="string">&quot;%s存了%d,余额为%d\n&quot;</span>,name,money,balance);</span><br><span class="line">			notify(); <span class="comment">// 通知小红（有可能在等待）</span></span><br><span class="line">			flag = <span class="keyword">true</span>; <span class="comment">// 存过</span></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 取钱</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="comment">// 可能有虚假唤醒的问题</span></span><br><span class="line">				<span class="keyword">while</span>(!flag) &#123; <span class="comment">// false</span></span><br><span class="line">					wait(); </span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 取钱逻辑（被小明唤醒了）</span></span><br><span class="line">			<span class="keyword">if</span>(money &lt; balance) &#123;</span><br><span class="line">				balance -= money;</span><br><span class="line">				String name = Thread.currentThread().getName();</span><br><span class="line">				System.out.printf(<span class="string">&quot;  %s取了%d，余额为%d\n&quot;</span>,name,money,balance);</span><br><span class="line">				notify(); <span class="comment">// 通知小明（有可能在等待）</span></span><br><span class="line">				flag = <span class="keyword">false</span>; <span class="comment">// 取过</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 效果： </span></span><br><span class="line"><span class="comment"> *  小明存了 10</span></span><br><span class="line"><span class="comment"> *  小明存了 20</span></span><br><span class="line"><span class="comment"> *  小明存了 980（此时余额&gt;1000 不会继续存了，等小红取）</span></span><br><span class="line"><span class="comment"> *  小红取了800 （如果继续取的钱大于余额，不能再取了，等小明存）</span></span><br><span class="line"><span class="comment"> *  小明存了 100</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>案例4： 小明和小红和小绿依次存取钱，小明存（2000），小红取（1000），小绿取(1000)</p>
<p>标识：1：小明 2：小红 3：小绿</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.communication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Account a = <span class="keyword">new</span> Account();</span><br><span class="line">		<span class="comment">// 三个线程 各自独立</span></span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(<span class="string">&quot;小明&quot;</span>) &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">					<span class="keyword">synchronized</span> (a) &#123;</span><br><span class="line">						<span class="keyword">while</span> (a.flag != <span class="number">1</span>) &#123; <span class="comment">//</span></span><br><span class="line">							<span class="keyword">try</span> &#123;</span><br><span class="line">								a.wait();</span><br><span class="line">							&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">								e.printStackTrace();</span><br><span class="line">							&#125; <span class="comment">// 等待</span></span><br><span class="line">						&#125;</span><br><span class="line">						<span class="comment">// 存钱 a.flag == 1 需要存钱</span></span><br><span class="line">						a.balance += <span class="number">2000</span>;</span><br><span class="line">						System.out.printf(<span class="string">&quot;%s存了2000，余额为%d\n&quot;</span>, Thread.currentThread().getName(), a.balance);</span><br><span class="line">						a.flag = <span class="number">2</span>; <span class="comment">// 指定小红线程取钱</span></span><br><span class="line">						a.notifyAll();</span><br><span class="line">						<span class="keyword">try</span> &#123;</span><br><span class="line">							Thread.sleep(<span class="number">500</span>);</span><br><span class="line">						&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">							<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		Thread t2 = <span class="keyword">new</span> Thread(<span class="string">&quot;小红&quot;</span>) &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">					<span class="keyword">synchronized</span> (a) &#123;</span><br><span class="line">						<span class="comment">// 如果flag不是2</span></span><br><span class="line">						<span class="keyword">while</span> (a.flag != <span class="number">2</span>) &#123;</span><br><span class="line">							<span class="keyword">try</span> &#123;</span><br><span class="line">								a.wait();</span><br><span class="line">							&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">								e.printStackTrace();</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="comment">// 小红取钱</span></span><br><span class="line">						a.balance -= <span class="number">1000</span>;</span><br><span class="line">						System.out.printf(<span class="string">&quot;%s取了1000，余额为%d\n&quot;</span>, Thread.currentThread().getName(), a.balance);</span><br><span class="line">						a.flag = <span class="number">3</span>; <span class="comment">// 指定小红线程取钱</span></span><br><span class="line">						a.notifyAll();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		Thread t3 = <span class="keyword">new</span> Thread(<span class="string">&quot;小绿&quot;</span>) &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">					<span class="keyword">synchronized</span> (a) &#123;</span><br><span class="line">						<span class="comment">// 如果flag不是3</span></span><br><span class="line">						<span class="keyword">while</span> (a.flag != <span class="number">3</span>) &#123;</span><br><span class="line">							<span class="keyword">try</span> &#123;</span><br><span class="line">								a.wait();</span><br><span class="line">							&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">								e.printStackTrace();</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="comment">// 小红取钱</span></span><br><span class="line">						a.balance -= <span class="number">1000</span>;</span><br><span class="line">						System.out.printf(<span class="string">&quot;%s取了1000，余额为%d\n&quot;</span>, Thread.currentThread().getName(), a.balance);</span><br><span class="line">						a.flag = <span class="number">1</span>; <span class="comment">// 指定小红线程取钱</span></span><br><span class="line">						a.notifyAll();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;;</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">		t3.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> balance; <span class="comment">// 0</span></span><br><span class="line">		<span class="keyword">int</span> flag = <span class="number">1</span>; <span class="comment">// 1：存 2 3</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h2><h1 id="BIO"><a href="#BIO" class="headerlink" title="BIO"></a>BIO</h1><p>==学习目标==</p>
<ul>
<li>File使用</li>
<li>IO流(BIO blocked io 阻塞io)</li>
</ul>
<h2 id="FIle"><a href="#FIle" class="headerlink" title="FIle"></a>FIle</h2><blockquote>
<p>文件的创建方式</p>
</blockquote>
<ul>
<li>new File(“”)</li>
<li>new File(“父目录”,”子文件”)</li>
<li>new File(父目录文件,”子文件”)</li>
</ul>
<p>==注意1：windows是<code>\ </code>unix是<code>/</code>==</p>
<p>==注意2： 相对和绝对路径==</p>
<p>==注意3：File是代表目录和文件，真实路径字符串是否存在不影响file的创建，不会空对象==</p>
<blockquote>
<p>文件的方法</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">操作</th>
<th align="center">方法</th>
</tr>
</thead>
<tbody><tr>
<td align="center">是否存在</td>
<td align="center">exists()</td>
</tr>
<tr>
<td align="center">文件名字</td>
<td align="center">getName()</td>
</tr>
<tr>
<td align="center">查看文件绝对路径</td>
<td align="center">getAbsolutePath()</td>
</tr>
<tr>
<td align="center">是否文件</td>
<td align="center">isFile()</td>
</tr>
<tr>
<td align="center">是否目录</td>
<td align="center">isDirectory()</td>
</tr>
<tr>
<td align="center">文件大小</td>
<td align="center">length()</td>
</tr>
<tr>
<td align="center">列举目录</td>
<td align="center">listFiles()</td>
</tr>
<tr>
<td align="center">创建文件</td>
<td align="center">createNewFile()</td>
</tr>
<tr>
<td align="center">创建文件夹</td>
<td align="center">mkdirs()</td>
</tr>
<tr>
<td align="center">删除文件</td>
<td align="center">delete()</td>
</tr>
</tbody></table>
<blockquote>
<p>补充 递归遍历指定文件</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileFilter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String path = <span class="string">&quot;/Users/vanse/Desktop/jd2312/a&quot;</span>;</span><br><span class="line">		<span class="comment">// 该文件夹下的txt结尾的文件 绝对路径 ||</span></span><br><span class="line"><span class="comment">//		File dir = new File(path);</span></span><br><span class="line">		<span class="comment">// 筛选后的数据 根据返回值true</span></span><br><span class="line"><span class="comment">//		File[] filterFiles = dir.listFiles(new FileFilter() &#123;</span></span><br><span class="line"><span class="comment">//			// 如果返回true，将筛选的file放入返回的数组中</span></span><br><span class="line"><span class="comment">//			@Override</span></span><br><span class="line"><span class="comment">//			public boolean accept(File file) &#123;</span></span><br><span class="line"><span class="comment">//				String name = file.getName();</span></span><br><span class="line"><span class="comment">//				return name.endsWith(&quot;txt&quot;) &amp;&amp; file.isFile() ; // true 筛选成功</span></span><br><span class="line"><span class="comment">//			&#125;</span></span><br><span class="line"><span class="comment">//		&#125;);</span></span><br><span class="line"><span class="comment">//		for (int i = 0; i &lt; filterFiles.length; i++) &#123;</span></span><br><span class="line"><span class="comment">//			System.out.println(filterFiles[i].getAbsolutePath());</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		<span class="comment">// a目录 下所有的文件</span></span><br><span class="line">		File dir = <span class="keyword">new</span> File(path);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 递归</span></span><br><span class="line">		filterFile(dir);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">filterFile</span><span class="params">(File dir)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 根文件项是目录</span></span><br><span class="line">		<span class="keyword">if</span> (dir.isDirectory()) &#123;</span><br><span class="line">			<span class="comment">// 拿出根文件的二级文件项</span></span><br><span class="line">			File[] listFiles = dir.listFiles();</span><br><span class="line">			<span class="comment">// for结束，递归会退出</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; listFiles.length; i++) &#123;</span><br><span class="line">				File file = listFiles[i];</span><br><span class="line">				<span class="comment">// 如果是文件 打印</span></span><br><span class="line">				<span class="keyword">if</span> (file.isFile() &amp;&amp; file.getName().endsWith(<span class="string">&quot;txt&quot;</span>)) &#123;</span><br><span class="line">					System.out.println(file.getAbsolutePath());</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="comment">// 如果是目录 b 将b当成新的根目录</span></span><br><span class="line">					filterFile(file);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h2><h3 id="节点流"><a href="#节点流" class="headerlink" title="节点流"></a>节点流</h3><blockquote>
<p>Inputstream / Outputstrem 文件上传/下载、在线视频</p>
</blockquote>
<p><strong>分类</strong></p>
<ul>
<li>从流向 王文文拿到我的u盘  IOTest.java<ul>
<li>输入流 读文件 读u盘里的内容</li>
<li>输出流 写文件 将u盘里的内容写到磁盘中</li>
</ul>
</li>
<li>从类型<ul>
<li>字节流 可以包含文字 图片 视频 音频</li>
<li>字符流 包含文字（中）</li>
</ul>
</li>
</ul>
<p><strong>流特点</strong></p>
<ul>
<li>字符/字节</li>
<li>输入/输出</li>
<li>流向</li>
</ul>
<p><strong>步骤</strong></p>
<ul>
<li>声明</li>
<li>创建</li>
<li>使用</li>
<li>关闭</li>
</ul>
<blockquote>
<p>字节流  Inputstream / Outputstream 可读写文本 图片 音频等任意文件</p>
</blockquote>
<p>==<strong>文件字节流</strong> (目的：文件中读写)==</p>
<ul>
<li>FileInputStream 文件字节输入流<ul>
<li>int read(); 每次读一个字节，返回字节对应的ASCII码 a -&gt; 97</li>
<li>int read(byte[] arr) 每次读arr.length个长度的字节，返回本次读到的字节数</li>
<li>int read(byte[] arr,0,len) 不常用 从数组的指定位置存储，存多少个字节</li>
</ul>
</li>
<li>FileOutputStream 文件字节输出流<ul>
<li>new FileOutputStream(文件,true) 该文件自动创建 true代表文件追加</li>
<li>void write() 每次写一个字节的ASCII码，实际写的是数据 97-&gt;a</li>
<li>void write(byte[] arr) 将arr数组的数据写到文件中</li>
<li>void write(byte[] arr,0,len) 写指定长度的数组</li>
<li>void flush()  将缓冲区的流刷新</li>
</ul>
</li>
</ul>
<p>==注意：中文在windows(默认gbk)占2个字节，在linux(默认linux)占3个字节==</p>
<p>==<strong>字节数组流</strong> 目的:字节数组中读写==</p>
<ul>
<li>ByteArrayInputStream 字节数组输入流<ul>
<li>从内部的数组 读数据</li>
<li>read</li>
</ul>
</li>
<li>ByteArrayOutputStream 字节数组输出流<ul>
<li>写数据到内部的数组（默认32个长度）中</li>
<li>write</li>
<li>flush</li>
</ul>
</li>
</ul>
<blockquote>
<p>字符流 Reader/Writer 只能读写文本文件 读写中文不乱码</p>
</blockquote>
<p><strong>文件字符流</strong></p>
<ul>
<li>FileReader 文件字符输入流<ul>
<li>int read()</li>
</ul>
</li>
<li>FileWriter 文件字符输出流<ul>
<li>wirte(char c)</li>
<li>wirte(char[] arr)</li>
<li>write(char[] arr,int offset,int len)</li>
<li>wirte(String str)</li>
<li>write(String,int offset,int len)</li>
</ul>
</li>
</ul>
<h3 id="包装流"><a href="#包装流" class="headerlink" title="包装流"></a>包装流</h3><ul>
<li><p>标准输入输出字节流</p>
<ul>
<li><p>标准输出流 PrintStream ，可包装字节流</p>
<ul>
<li>write() / 配合flush()方法</li>
<li>写的是整数值，但是实际写的是对应字节数据 97 a</li>
<li>println() 该方法可以打印字节和字符<ul>
<li>println() 会原样输出</li>
<li>本质上调用write方法，并且换行（和操作系统相关）</li>
</ul>
</li>
</ul>
</li>
<li><p>标准输入流  BufferedInputStream  可包装字节流</p>
<ul>
<li>read() 会导致阻塞，需要等待输入</li>
<li>回车换行 也会被输出<ul>
<li>idea用的linux的分隔符10 \n </li>
<li>sts用的windows 13 10 \r\n</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>==缓冲字节流 提升效率，内部有缓冲区（数组 1024*8）==</p>
<ul>
<li><p>缓冲字节输入流 BufferedInputStream</p>
<ul>
<li><p><strong>额外支持方法 mark()和reset() 标记和重置标记，当流有缓冲区时才能调用该方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (BufferedInputStream fis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;img.png&quot;</span>));) &#123;</span><br><span class="line">            fis.mark(Integer.MAX_VALUE); <span class="comment">// 标记大小要足够大 不然重置报错</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> (BufferedOutputStream fos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;img_copy&quot;</span> + i + <span class="string">&quot;.png&quot;</span>))) &#123;</span><br><span class="line">                    <span class="keyword">int</span> len;</span><br><span class="line">                    <span class="keyword">while</span> ((len = fis.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">                        fos.write(len);</span><br><span class="line">                    &#125;</span><br><span class="line">                    fis.reset();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>缓冲字节输出流 BufferedOutputstream</p>
</li>
</ul>
</li>
<li><p>==缓冲字符流 提升效率，并且有增强方法==</p>
<ul>
<li>缓冲字符输入流 BufferedReader<ul>
<li>==readLine() 每次读一行 如果是空行(回车)，忽略不读（空字符会读的）==</li>
<li>ready() 判断是否到文件末尾</li>
</ul>
</li>
<li>缓冲字符输出流 BufferedWriter<ul>
<li>newLine() 换行</li>
<li>write(String s) 写字符串</li>
</ul>
</li>
</ul>
</li>
<li><p>字符转换流  1.把字节转换为字符 2.指定编码去解析</p>
<ul>
<li><p>用UTF-8编码读GBK编码 编码和解码不一致则会乱码</p>
</li>
<li><p>```java<br>InputStreamReader isr = new InputStreamReader(fis,StandardCharsets.UTF_8);) {<br>InputStreamReader isr = new InputStreamReader(fis,Charset.forName(“gbk”)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 数据流DataInputStream（了解即可）</span><br><span class="line"></span><br><span class="line">  - 提供了各种基本数据类型的读写</span><br><span class="line"></span><br><span class="line">- **对象流** 用于读写对象</span><br><span class="line"></span><br><span class="line">  - ObjectInputStream  对象输入流</span><br><span class="line"></span><br><span class="line">    - Object readObject();将对象字节重新变为对象</span><br><span class="line">    - **反序列化不调用构造器 （不是只有new构造器才能创建对象）**</span><br><span class="line">    - 反序列化的地址和原地址不一样</span><br><span class="line"></span><br><span class="line">  - ObjectOutStream 对象输出流</span><br><span class="line"></span><br><span class="line">    - 对象需要实现序列化接口Serializable</span><br><span class="line"></span><br><span class="line">    - writeObject() 写的是对象的字节</span><br><span class="line"></span><br><span class="line">    - 如果要写多对象，写容器即可，容器的元素会一起写入</span><br><span class="line"></span><br><span class="line">    - **transient** 可以控制个别字段不序列化</span><br><span class="line"></span><br><span class="line">    - **如果在序列化过程有字段的添加、修改 此时要确保序列化id一致**</span><br><span class="line"></span><br><span class="line">      ```java</span><br><span class="line">      private static final long serialVersionUID = 1L;</span><br><span class="line">      </span><br><span class="line">      **private** **static** **final** **long** **serialVersionUID** = 5104848660142885299L;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>==<strong>特殊的包装流：PrintWriter() 打印流</strong>==</p>
<ul>
<li>同时包装字节流和字符流</li>
<li>有println方法（会多输出一行，但是回车不计入正文）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.wrapper.buffer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 额外方法 每次读一行</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBufferCharIO3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> (</span><br><span class="line">				<span class="comment">// 文本 每次读一行</span></span><br><span class="line">				BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">				<span class="keyword">new</span> FileReader(<span class="string">&quot;a.txt&quot;</span>));</span><br><span class="line">				PrintWriter pw = <span class="keyword">new</span> PrintWriter(</span><br><span class="line">						<span class="keyword">new</span> FileWriter(<span class="string">&quot;b.txt&quot;</span>));</span><br><span class="line">				) &#123;</span><br><span class="line">			<span class="comment">// 使用流</span></span><br><span class="line">			String line = <span class="keyword">null</span>;</span><br><span class="line">			<span class="comment">// 每读一行</span></span><br><span class="line">			<span class="keyword">while</span>( (line = br.readLine()) != <span class="keyword">null</span> ) &#123;</span><br><span class="line">				<span class="comment">// 写一行</span></span><br><span class="line">				pw.println(line);</span><br><span class="line">			&#125;</span><br><span class="line">			pw.flush();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>==特殊： RandomAccessFile 任意访问流不属于4种基本类流子类==</p>
<ul>
<li><p>能读能写</p>
</li>
<li><p>反复定位 seek()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.RandomAccessFile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 任意访问流  能读能写 反复定位</span></span><br><span class="line"><span class="comment"> * 将a.txt文件内容：hello world123，</span></span><br><span class="line"><span class="comment"> * 使用随机访问流进行内容替换，完成后文件 </span></span><br><span class="line"><span class="comment"> * 内容：hello briup123</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestRandomAccessIo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// hello world123</span></span><br><span class="line">		<span class="comment">// hello briup123</span></span><br><span class="line">		<span class="comment">// 1.创建任意访问流</span></span><br><span class="line">		RandomAccessFile ra = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ra = <span class="keyword">new</span> RandomAccessFile(<span class="string">&quot;a.txt&quot;</span>, <span class="string">&quot;rw&quot;</span>);</span><br><span class="line">			<span class="comment">// 2.定位到需要修改的位置 从0开始</span></span><br><span class="line">				<span class="comment">// 读写文件会使指针变动</span></span><br><span class="line"><span class="comment">//			System.out.println(ra.getFilePointer());</span></span><br><span class="line">			ra.seek(<span class="number">6</span>);</span><br><span class="line">			ra.write(<span class="string">&quot;briup&quot;</span>.getBytes()); <span class="comment">// 11 </span></span><br><span class="line">			System.out.println(ra.getFilePointer());</span><br><span class="line">			ra.seek(<span class="number">0</span>);</span><br><span class="line">			<span class="comment">// 3.重新读文件</span></span><br><span class="line">			<span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span>( (len = ra.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">//				ra.write(len);</span></span><br><span class="line">				System.out.write(len);</span><br><span class="line">				System.out.flush();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(ra != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ra.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="work"><a href="#work" class="headerlink" title="work"></a>work</h2><p><strong>作业1 如果现在有一款只能试用10次的软件，超过10次之后就需要提醒用户购买正版软件。(程序运行一次，</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.homework.io;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: vanse(lc))</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2023/8/22-08-22-22:36</span></span><br><span class="line"><span class="comment"> * 编程实现:如果现在有一款只能试用10次的软件，超过10次之后就需要提醒用户购买正版软件。(程序运行一次，</span></span><br><span class="line"><span class="comment"> * 使用次数就要减一次)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                file.createNewFile();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> (FileInputStream fis = <span class="keyword">new</span> FileInputStream(file)) &#123;</span><br><span class="line">            <span class="keyword">byte</span>[] arr = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">int</span> len = fis.read(arr);</span><br><span class="line">            System.out.println(<span class="string">&quot;len = &quot;</span> + len);</span><br><span class="line">            <span class="keyword">int</span> intCont = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                String strCount = <span class="keyword">new</span> String(arr, <span class="number">0</span>, len);</span><br><span class="line">                intCont = Integer.parseInt(strCount);</span><br><span class="line">                System.out.println(<span class="string">&quot;strCount = &quot;</span> + strCount);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;intCont = &quot;</span> + intCont);</span><br><span class="line">                <span class="keyword">if</span> (intCont &gt; <span class="number">5</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;使用次数已到&quot;</span>);</span><br><span class="line">                    System.exit(-<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">try</span>(PrintStream fos = <span class="keyword">new</span> PrintStream(<span class="keyword">new</span> FileOutputStream(file));) &#123;</span><br><span class="line">                    fos.print(++intCont); <span class="comment">// 使用了1次</span></span><br><span class="line">                    fos.flush();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>作业2： 复制10张图片，命名img_copy_i_.png</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.homework.io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: vanse(lc))</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2023/8/22-08-22-22:08</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>：com.briup.homework.io</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (BufferedInputStream fis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;img.png&quot;</span>));) &#123;</span><br><span class="line">            fis.mark(Integer.MAX_VALUE);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> (BufferedOutputStream fos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;img_copy&quot;</span> + i + <span class="string">&quot;.png&quot;</span>))) &#123;</span><br><span class="line">                    <span class="keyword">int</span> len;</span><br><span class="line">                    <span class="keyword">while</span> ((len = fis.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">                        fos.write(len);</span><br><span class="line">                    &#125;</span><br><span class="line">                    fis.reset();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>作业3 筛选指定格式文件</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.homework.io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileFilter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: vanse(lc))</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2023/8/22-08-22-21:09</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>：com.briup.homework.io</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String path = <span class="string">&quot;/Users/vanse/Desktop/jd2312/a&quot;</span>;</span><br><span class="line">        File dir = <span class="keyword">new</span> File(path);</span><br><span class="line">        filterFile(dir);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">filterFile</span><span class="params">(File dir)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(dir.isDirectory())&#123; <span class="comment">// a</span></span><br><span class="line">            File[] files = dir.listFiles(); <span class="comment">// a b b.txt c.txt</span></span><br><span class="line">            <span class="keyword">for</span> (File file : files) &#123;</span><br><span class="line">                <span class="keyword">if</span>(file.isFile() &amp;&amp; file.getName().endsWith(<span class="string">&quot;txt&quot;</span>))&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;file.getAbsolutePath() = &quot;</span> + file.getAbsolutePath());</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    filterFile(file);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>作业4  实现将一个文件从GBK编码转换为UTF-8编码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.homework.io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: vanse(lc))</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2023/8/22-08-22-23:20</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>：改变文件编码</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> (BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(file), <span class="string">&quot;gbk&quot;</span>))) &#123;</span><br><span class="line">            String s = br.readLine();</span><br><span class="line">            System.out.println(<span class="string">&quot;s = &quot;</span> + s);</span><br><span class="line">            <span class="keyword">try</span>(PrintWriter pw = <span class="keyword">new</span> PrintWriter(file, <span class="string">&quot;utf-8&quot;</span>);)&#123;</span><br><span class="line">                pw.write(s);</span><br><span class="line">                pw.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>






<p><strong>案例1 a.txt中有字符串hello !!! 将其变成hello World !!!（tips: 使用RandomAccessFile）</strong></p>
<p><strong>案例2 使用2个线程复制图片</strong></p>
<ul>
<li>将图片字节数分为2半，每个线程控制一半数据读写 （保证线程安全 | 使用任意访问流）</li>
</ul>
<h1 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h1><blockquote>
<p>计算机通信三要素</p>
</blockquote>
<ul>
<li>ip<ul>
<li>公网ip   47.92.65.103 ip上的资源所有人都能访问<ul>
<li>阿里云ip 腾讯云ip 搬瓦工</li>
</ul>
</li>
<li>内网ip 指定局域网下的网段可以访问</li>
<li>本机ip  127.0.0.1 -&gt; localhost<ul>
<li>c:windows/system32/drivers/etc/hosts</li>
</ul>
</li>
</ul>
</li>
<li>端口<ul>
<li>计算机上的具体程序</li>
</ul>
</li>
<li>协议<ul>
<li>互联网通信规范 http file ftp</li>
</ul>
</li>
</ul>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><h3 id="CS"><a href="#CS" class="headerlink" title="CS"></a>CS</h3><ul>
<li>服务器 ServerSocket</li>
<li>客户端 Socket</li>
</ul>
<blockquote>
<p><strong>基本通信</strong></p>
</blockquote>
<p><strong>服务端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通信连接-服务端</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServerSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 1.创建服务端 默认ip是127.0.0.1/localhost</span></span><br><span class="line">			<span class="comment">// 当前代码在哪个操作系统上，都叫本机</span></span><br><span class="line">			<span class="comment">// 端口随意指定 不冲突即可</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">			<span class="comment">// 2.服务器一般不关闭 一直等待客户端连接</span></span><br><span class="line">			System.out.println(<span class="string">&quot;服务器创建，等待连接&quot;</span>);</span><br><span class="line">			<span class="comment">// 本次连接的客户端</span></span><br><span class="line">			Socket accept = ss.accept(); <span class="comment">// 等待客户端连接，客户端如果没有链接，就阻塞</span></span><br><span class="line">			System.out.println(accept);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>客户端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通信链接-客户端</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClientSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 2.创建客户端</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8888</span>);</span><br><span class="line">			System.out.println(socket);</span><br><span class="line">			System.out.println(<span class="string">&quot;连接成功&quot;</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>基本连接优化</strong></p>
</blockquote>
<p><strong>服务端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServerSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 1.创建服务器</span></span><br><span class="line">			ss = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">			<span class="comment">// 2.一直等待客户端连接</span></span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">				Socket accept = ss.accept();</span><br><span class="line">				System.out.println(<span class="string">&quot;接受请求：&quot;</span>+ accept);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(ss != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ss.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>客户端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClientSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Socket socket = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			socket = <span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8888</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					socket.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>客户端向服务端请求数据，服务端接收数据</strong></p>
</blockquote>
<p><strong>服务端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServerSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">null</span>;</span><br><span class="line">		InputStream is = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 1.创建服务器</span></span><br><span class="line">			ss = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">			Socket accept = ss.accept();</span><br><span class="line">			System.out.println(<span class="string">&quot;接受请求：&quot;</span> + accept);</span><br><span class="line">			<span class="comment">// 4.接受来自客户端的数据</span></span><br><span class="line">			is = accept.getInputStream();</span><br><span class="line">			<span class="keyword">byte</span>[] arr = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			is.read(arr);</span><br><span class="line">			System.out.println(<span class="string">&quot;读到数据: &quot;</span> + <span class="keyword">new</span> String(arr));</span><br><span class="line">			<span class="comment">// 5.</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (is != <span class="keyword">null</span>) &#123;</span><br><span class="line">					is.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (ss != <span class="keyword">null</span>) &#123;</span><br><span class="line">					ss.close();</span><br><span class="line">				&#125; </span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>客户端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClientSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Socket socket = <span class="keyword">null</span>;</span><br><span class="line">		OutputStream os = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 2.创建客户端</span></span><br><span class="line">			socket = <span class="keyword">new</span> Socket(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br><span class="line">			<span class="comment">// 3.客户端发送数据 通过套接字的流</span></span><br><span class="line">			<span class="comment">// 写数据到服务端</span></span><br><span class="line">			os = socket.getOutputStream();</span><br><span class="line">			os.write(<span class="string">&quot;周杰伦&quot;</span>.getBytes());</span><br><span class="line">			os.flush();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (os != <span class="keyword">null</span>) &#123;</span><br><span class="line">					os.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">					socket.close();</span><br><span class="line">				&#125; </span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<blockquote>
<p>客户端向服务端请求数据，服务端响应数据</p>
</blockquote>
<p><strong>服务端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * socket不报错 不出效果</span></span><br><span class="line"><span class="comment"> * 	通信失败  可能是换行符</span></span><br><span class="line"><span class="comment"> * 	write  println</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServerSocket</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> &lt;L&gt; <span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span>(</span><br><span class="line">				<span class="comment">// 1.创建服务器</span></span><br><span class="line">				ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">10086</span>);</span><br><span class="line">				Socket socket = ss.accept();</span><br><span class="line">				<span class="comment">// 每次写一行</span></span><br><span class="line">				PrintWriter pw = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">				<span class="comment">// 每次读一行</span></span><br><span class="line">				BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">						<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">								socket.getInputStream()));</span><br><span class="line">				) &#123;</span><br><span class="line">			<span class="comment">// 4.接受客户端数据</span></span><br><span class="line">			String lineFromClient = <span class="keyword">null</span>;</span><br><span class="line">			Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">			<span class="comment">// 服务端可以一直接收</span></span><br><span class="line">			<span class="keyword">while</span>((lineFromClient = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;客户端：&quot;</span> + lineFromClient);</span><br><span class="line">				</span><br><span class="line">				<span class="comment">// 5.一直响应数据给客户端</span></span><br><span class="line">				<span class="comment">// scanner in</span></span><br><span class="line">				String lineFromConsole = sc.nextLine();</span><br><span class="line">				pw.println(lineFromConsole);</span><br><span class="line">				pw.flush();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// 不要写循环外</span></span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>客户端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.tcp.cs.demo4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClientSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> (</span><br><span class="line">				<span class="comment">// 2.创建客户端</span></span><br><span class="line">				Socket socket = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>, <span class="number">10086</span>);</span><br><span class="line">				<span class="comment">// 每次写一行</span></span><br><span class="line">				PrintWriter pw = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">				<span class="comment">// 每次读一行</span></span><br><span class="line">				BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));) &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 3.向服务端发送数据 System.in nextLine()</span></span><br><span class="line">			Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">			<span class="comment">// 客户端可以一直写数据给服务端</span></span><br><span class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">				String lineFromConsole = sc.nextLine();</span><br><span class="line">				pw.println(lineFromConsole); <span class="comment">// 写一行</span></span><br><span class="line">				pw.flush();</span><br><span class="line">				<span class="comment">// 6.接收服务器的响应</span></span><br><span class="line">				System.out.println(br.readLine());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>客户端和服务端通信</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 客户端发给服务端</span></span><br><span class="line"><span class="comment"> * 服务端返回客户端数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServetSocket</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> port = <span class="number">9999</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">new</span> ServerSocket(port);</span><br><span class="line">		Socket socket = ss.accept();</span><br><span class="line">		<span class="comment">// 2.接收客户端数据</span></span><br><span class="line">		BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">				<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">						socket.getInputStream()));</span><br><span class="line">		String lineFormClient = br.readLine();</span><br><span class="line">		<span class="comment">// 3.响应数据</span></span><br><span class="line">		PrintWriter pw = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">		pw.println(lineFormClient);</span><br><span class="line">		pw.flush();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClientSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Socket s = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>,MyServetSocket.port);</span><br><span class="line">		<span class="comment">// 1.发送数据 hello world</span></span><br><span class="line">			<span class="comment">// 1.1 写一行 PrintWrite</span></span><br><span class="line">		PrintWriter pw = <span class="keyword">new</span> PrintWriter(s.getOutputStream());</span><br><span class="line">		pw.println(<span class="string">&quot;hello word&quot;</span>);</span><br><span class="line">		pw.flush();</span><br><span class="line">		<span class="comment">// 4.接收服务器数据</span></span><br><span class="line">		BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">				<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">						s.getInputStream()));</span><br><span class="line">		String lineFormServer = br.readLine();</span><br><span class="line">		System.out.println(lineFormServer);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>==服务端通信一次后终止，需要循环==</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 客户端发给服务端</span></span><br><span class="line"><span class="comment"> * 服务端返回客户端数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServetSocket</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> port = <span class="number">9999</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">new</span> ServerSocket(port);</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>) &#123; <span class="comment">// 先写死循环</span></span><br><span class="line">			Socket socket = ss.accept();</span><br><span class="line">			<span class="comment">// 2.接收客户端数据</span></span><br><span class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">					<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">							socket.getInputStream()));</span><br><span class="line">			String lineFormClient = br.readLine();</span><br><span class="line">			<span class="comment">// 3.响应数据</span></span><br><span class="line">			PrintWriter pw = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">			pw.println(lineFormClient);</span><br><span class="line">			pw.flush();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>==问题：客户端只能发送一次，需要一直从控制台发送==</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 客户端发给服务端</span></span><br><span class="line"><span class="comment"> * 服务端返回客户端数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServetSocket</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> port = <span class="number">9999</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">new</span> ServerSocket(port);</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>) &#123; <span class="comment">// 先写死循环</span></span><br><span class="line">			Socket socket = ss.accept();</span><br><span class="line">			<span class="comment">// 2.接收客户端数据</span></span><br><span class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">					<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">							socket.getInputStream()));</span><br><span class="line">			String lineFormClient;</span><br><span class="line">			<span class="keyword">while</span>( (lineFormClient = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="comment">// 3.响应数据</span></span><br><span class="line">				PrintWriter pw = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">				pw.println(lineFormClient);</span><br><span class="line">				pw.flush(); <span class="comment">// 写完要刷新</span></span><br><span class="line">			&#125;;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClientSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Socket s = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>,MyServetSocket.port);</span><br><span class="line">		<span class="comment">// 1.发送数据 hello world</span></span><br><span class="line">			<span class="comment">// 1.1 写一行 PrintWrite</span></span><br><span class="line">		PrintWriter pw = <span class="keyword">new</span> PrintWriter(s.getOutputStream());</span><br><span class="line">		Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">			<span class="comment">// 1.2 从控制台一直输入</span></span><br><span class="line">			String lineFromConsole = sc.nextLine();</span><br><span class="line">			pw.println(lineFromConsole);</span><br><span class="line">			pw.flush(); <span class="comment">// 写完要刷新</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 4.接收服务器数据</span></span><br><span class="line">			BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">					<span class="keyword">new</span> InputStreamReader(</span><br><span class="line">							s.getInputStream()));</span><br><span class="line">			String lineFormServer = br.readLine();</span><br><span class="line">			System.out.println(lineFormServer);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>==问题：一个服务端只能同时响应一个客户端bio 服务端要用多线程==</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 客户端发给服务端 服务端返回客户端数据</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServetSocket</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> port = <span class="number">9999</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ss = <span class="keyword">new</span> ServerSocket(port);</span><br><span class="line">			<span class="keyword">while</span> (<span class="keyword">true</span>) &#123; <span class="comment">// 先写死循环</span></span><br><span class="line">				Socket socket = ss.accept();</span><br><span class="line"><span class="comment">//				System.out.println(socket);</span></span><br><span class="line">				<span class="comment">// 每接受一个客户端，就开启新线程</span></span><br><span class="line">				<span class="keyword">new</span> ServetThread(socket).start();</span><br><span class="line">			&#125; </span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(ss != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ss.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServetThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 每个线程都有一个socket(套接字流，来源接受)</span></span><br><span class="line">	<span class="keyword">private</span> Socket socket;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ServetThread</span><span class="params">(Socket socket)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.socket = socket;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">		PrintWriter pw = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 每个线程服务一个socket</span></span><br><span class="line">			<span class="comment">// 2.接收客户端数据</span></span><br><span class="line">			br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">			String lineFormClient;</span><br><span class="line">			<span class="comment">// 该循环一直在进行，除非第一个客户端结束</span></span><br><span class="line">			<span class="keyword">while</span> ((lineFormClient = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="comment">// 3.响应数据</span></span><br><span class="line">				pw = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">				pw.println(lineFormClient);</span><br><span class="line">				pw.flush(); <span class="comment">// 写完要刷新 一次连接 频繁使用ps对象</span></span><br><span class="line"><span class="comment">//				pw.close();</span></span><br><span class="line">			&#125; </span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(pw != <span class="keyword">null</span>) &#123;</span><br><span class="line">					pw.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (br != <span class="keyword">null</span>) &#123;</span><br><span class="line">					br.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">					socket.close();</span><br><span class="line">				&#125; </span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClientSocket</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		Socket s = <span class="keyword">null</span>;</span><br><span class="line">		PrintWriter pw = <span class="keyword">null</span>;</span><br><span class="line">		BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">		Scanner sc = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			s = <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>, MyServetSocket.port);</span><br><span class="line">			<span class="comment">// 1.发送数据 hello world</span></span><br><span class="line">			<span class="comment">// 1.1 写一行 PrintWrite</span></span><br><span class="line">			pw = <span class="keyword">new</span> PrintWriter(s.getOutputStream());</span><br><span class="line">			sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">			<span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">				<span class="comment">// 1.2 从控制台一直输入</span></span><br><span class="line">				String lineFromConsole = sc.nextLine();</span><br><span class="line">				pw.println(lineFromConsole);</span><br><span class="line">				pw.flush(); <span class="comment">// 写完要刷新</span></span><br><span class="line"></span><br><span class="line">				<span class="comment">// 4.接收服务器数据</span></span><br><span class="line">				br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(s.getInputStream()));</span><br><span class="line">				String lineFormServer = br.readLine();</span><br><span class="line">				System.out.println(lineFormServer);</span><br><span class="line">			&#125; </span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(pw != <span class="keyword">null</span>) &#123;</span><br><span class="line">					pw.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (br != <span class="keyword">null</span>) &#123;</span><br><span class="line">					br.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (s != <span class="keyword">null</span>) &#123;</span><br><span class="line">					s.close();</span><br><span class="line">				&#125; </span><br><span class="line">				<span class="keyword">if</span> (sc != <span class="keyword">null</span>) &#123;</span><br><span class="line">					sc.close();</span><br><span class="line">				&#125; </span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308241529071.png" alt="image-20230824152901647"></p>
<blockquote>
<p><strong>聊天室</strong></p>
</blockquote>
<p><strong>服务端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp.demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 客户端发给服务端 服务端返回客户端数据</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServetSocket</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 集合（线程安全）保存所有的连接</span></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> port = <span class="number">9999</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ss = <span class="keyword">new</span> ServerSocket(port);</span><br><span class="line">			<span class="keyword">while</span> (<span class="keyword">true</span>) &#123; <span class="comment">// 先写死循环</span></span><br><span class="line">				Socket socket = ss.accept();</span><br><span class="line"><span class="comment">//				System.out.println(socket);</span></span><br><span class="line">				<span class="comment">// 每接受一个客户端，就开启新线程</span></span><br><span class="line">        <span class="comment">// 放到集合中</span></span><br><span class="line">				<span class="keyword">new</span> ServetThread(socket).start();</span><br><span class="line">			&#125; </span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(ss != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ss.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServetThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 每个线程都有一个socket(套接字流，来源接受)</span></span><br><span class="line">	<span class="keyword">private</span> Socket socket;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ServetThread</span><span class="params">(Socket socket)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.socket = socket;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">		PrintWriter pw = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 每个线程服务一个socket</span></span><br><span class="line">			<span class="comment">// 2.接收客户端数据</span></span><br><span class="line">			br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">			String lineFormClient;</span><br><span class="line">			<span class="comment">// 该循环一直在进行，除非第一个客户端结束</span></span><br><span class="line">			<span class="keyword">while</span> ((lineFormClient = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="comment">// 3.响应数据  响应给除了了当前socket的所有socket</span></span><br><span class="line">				pw = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">				pw.println(lineFormClient);</span><br><span class="line">				pw.flush(); <span class="comment">// 写完要刷新 一次连接 频繁使用ps对象</span></span><br><span class="line"><span class="comment">//				pw.close();</span></span><br><span class="line">			&#125; </span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(pw != <span class="keyword">null</span>) &#123;</span><br><span class="line">					pw.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (br != <span class="keyword">null</span>) &#123;</span><br><span class="line">					br.close();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">					socket.close();</span><br><span class="line">				&#125; </span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>客户端改造</strong></p>
<ul>
<li>一个线程读来自服务器的广播数据</li>
<li>一个线程录入数据（阻塞）</li>
</ul>
<p><strong>案例：传输图片 有隐藏问题</strong></p>
<h3 id="BS"><a href="#BS" class="headerlink" title="BS"></a>BS</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.net.tcp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestBS</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		ServerSocket ss = <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">			Socket s = ss.accept(); <span class="comment">// 客户端是浏览器</span></span><br><span class="line">			System.out.println(s);</span><br><span class="line">			BufferedReader br = </span><br><span class="line">					<span class="keyword">new</span> BufferedReader(</span><br><span class="line">							<span class="keyword">new</span> InputStreamReader(s.getInputStream()));</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">			<span class="comment">// GET(请求方式) /（请求资源） HTTP/1.1（超文本传输协议）</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 请求协议 </span></span><br><span class="line">				<span class="comment">// 请求行 GET / HTTP/1.1</span></span><br><span class="line">				<span class="comment">// 请求头 格式 Content-Type 数据类型</span></span><br><span class="line">				<span class="comment">// 请求数据 周杰伦</span></span><br><span class="line">			String readLine = br.readLine();</span><br><span class="line">			System.out.println(readLine);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 响应协议</span></span><br><span class="line">				<span class="comment">// 响应行</span></span><br><span class="line">				<span class="comment">// 响应头</span></span><br><span class="line">				<span class="comment">// 响应数据</span></span><br><span class="line">			PrintWriter pw = <span class="keyword">new</span> PrintWriter(s.getOutputStream());</span><br><span class="line">			<span class="comment">// 响应行</span></span><br><span class="line">			pw.println(<span class="string">&quot;HTTP/1.1 200 OK&quot;</span>);</span><br><span class="line">			<span class="comment">// 响应头 (普通文本/html/json)</span></span><br><span class="line">			pw.println(<span class="string">&quot;Content-Type: text/plain;charset=UTF-8&quot;</span>);</span><br><span class="line">			pw.println(); <span class="comment">// 空行间隔数据</span></span><br><span class="line">			<span class="comment">// html样式的标签</span></span><br><span class="line">			pw.println(<span class="string">&quot;hello world&quot;</span>); <span class="comment">// 响应数据</span></span><br><span class="line">			pw.flush();</span><br><span class="line">			<span class="comment">// 浏览器如果以为服务器没写完</span></span><br><span class="line">			s.shutdownOutput(); <span class="comment">// 只关闭socket的输出流</span></span><br><span class="line">			s.close(); <span class="comment">// 关闭socket</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><h1 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h1><h2 id="类加载"><a href="#类加载" class="headerlink" title="类加载"></a>类加载</h2><blockquote>
<p>类什么时候加载</p>
</blockquote>
<p>什么时候用 什么时候加载，不一定会初始化</p>
<blockquote>
<p>类加载过程</p>
</blockquote>
<ul>
<li>加载  -&gt; 方法区</li>
<li>链接<ul>
<li>验证</li>
<li>准备<ul>
<li><strong>静态变量分配空间并赋初始值</strong></li>
</ul>
</li>
<li>解析</li>
</ul>
</li>
<li>初始化（类的初始化 cinit）<ul>
<li>静态代码块执行一定程度上代表着类的初始化</li>
</ul>
</li>
</ul>
<blockquote>
<p>类什么时候初始化</p>
</blockquote>
<ul>
<li>第一次使用类的静态成员时（非final）</li>
</ul>
<blockquote>
<p>谁加载类 (类加载器) 类加载的关系不是子父类 是组合</p>
</blockquote>
<ul>
<li>引导类加载器 BootClassLoader<ul>
<li>C++ 实现，获取不到实现类</li>
<li>加载rt.jar 基类</li>
</ul>
</li>
<li>拓展类加载器 ExtClassLoader<ul>
<li>Java</li>
<li>jre/ext/ jar</li>
</ul>
</li>
<li>系统类加载（应用类加载器） AppClassLoader<ul>
<li>Java</li>
<li>自己写的类以及使用第三方类</li>
<li>CLASSPATH = .</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.classloader;</span><br><span class="line"><span class="comment">// 查看三种类加载器</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShowClassLoader</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 获取加载当前类的类加载器</span></span><br><span class="line"><span class="comment">//		ClassLoader systemClassLoader = </span></span><br><span class="line"><span class="comment">//				ShowClassLoader.class.getClassLoader();</span></span><br><span class="line">		ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();</span><br><span class="line">		System.out.println(<span class="string">&quot;系统类加载器: &quot;</span> + systemClassLoader);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 类加载器之间是组合关系 不是子父类关系</span></span><br><span class="line">		ClassLoader extClassLoader = systemClassLoader.getParent();</span><br><span class="line">		System.out.println(<span class="string">&quot;拓展类加载器: &quot;</span> + extClassLoader);</span><br><span class="line">		</span><br><span class="line">		ClassLoader bootClassLoader = extClassLoader.getParent();</span><br><span class="line">		System.out.println(<span class="string">&quot;引导类加载器：&quot;</span> + bootClassLoader);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>双亲委任机制 保证类加载安全</p>
</blockquote>
<ol>
<li>应用类加载器先判断该类是否被加载过，如果没有，交给”父”类加载器 拓展类加载器</li>
<li>拓展类加载器先判断该类是否被加载过，如果没有，交给”父”类加载器 引导类加载器</li>
<li>引导类加载器先判断自己是否能够加载该类<ol>
<li>能，自己加载 结束了</li>
<li>不能，交给”子”类加载器加载 拓展类加载器<ol>
<li>自己是否能够加载该类<ol>
<li>能 自己加载 结束了</li>
<li>不能 交给”子”类加载器加载 应用类加载器<ol>
<li>自己是否能够加载该类 <ol>
<li>能 自己加载</li>
<li>抛出异常 ClassNotFoundException</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<blockquote>
<p>使用类加载器加载文件  推荐使用</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.classloader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoaderFile</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"><span class="comment">//		new FileInputStream(&quot;src/a.txt&quot;);</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();</span></span><br><span class="line">		ClassLoader classLoader = LoaderFile.class.getClassLoader();</span><br><span class="line">		<span class="comment">// 将a.txt放到bin目录下</span></span><br><span class="line">		InputStream is = classLoader.getResourceAsStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">		System.out.println(is);</span><br><span class="line">		<span class="keyword">int</span> read = is.read();</span><br><span class="line">		System.out.println(read);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>==注意： 只加载bin/out目录下的文件，如果文件放在src下，编译器可能会自动将文件放到bin/out==</p>
<h2 id="反射-1"><a href="#反射-1" class="headerlink" title="反射"></a><strong>反射</strong></h2><h3 id="CLASS"><a href="#CLASS" class="headerlink" title="CLASS"></a>CLASS</h3><blockquote>
<p>Class的含义</p>
</blockquote>
<p><strong>Class 类是一个重要的核心类，它用于表示一个类或接口的运行时 信息。每个类在Java虚拟机中都有一个对应的 Class 对象，可以通过该对象获 取类的构造函数、方法、属性等信息，并且可以进行实例化对象、方法调用和数 据成员访问等操作。</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308251203009.png" alt="image-20230825120312035"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Student s = <span class="keyword">new</span> Student();</span><br><span class="line"><span class="comment">// 左边是类 右边是对象</span></span><br><span class="line">Class&lt;Student&gt; c = Student.class;</span><br><span class="line">Filed</span><br><span class="line">  Method</span><br><span class="line">  Consturcotr</span><br><span class="line">  Annotation</span><br></pre></td></tr></table></figure>





<blockquote>
<p>Class对象的获取方式</p>
</blockquote>
<ul>
<li>类名.class</li>
<li>对象.getClass()</li>
<li>==Class.forName(“完整类名”) 运行时才加载类==</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.reflect;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取Class对象</span></span><br><span class="line"><span class="comment"> * 	 同一个对象（类只加载一次，运行时区域一个）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestGetClass</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">		<span class="comment">// 1.类名class</span></span><br><span class="line">		Class&lt;?&gt; c = A.class;</span><br><span class="line">		<span class="comment">// 2.对象.getClass()</span></span><br><span class="line">		A a = <span class="keyword">new</span> A();</span><br><span class="line">		Class&lt;?&gt; c2 = a.getClass();</span><br><span class="line">		System.out.println(c == c2);</span><br><span class="line">		<span class="comment">// 3.Class.forName(&quot;带包类名&quot;); 建议</span></span><br><span class="line">		Class&lt;?&gt; c3 = Class.forName(<span class="string">&quot;com.briup.reflect.A&quot;</span>);</span><br><span class="line">		System.out.println(c3 == c2);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>注意： 同一个对象（类只加载一次，运行时区域一个）</code></p>
<h3 id="获取类info"><a href="#获取类info" class="headerlink" title="获取类info"></a>获取类info</h3><blockquote>
<p>动态获取类本身信息</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取Class对象 同一个对象（类只加载一次，运行时区域一个）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestGetClassInfo</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">		<span class="comment">// 1.获取Class对象</span></span><br><span class="line">		Class&lt;?&gt; a = Class.forName(<span class="string">&quot;com.briup.reflect.TestGetClassInfo$A&quot;</span>);</span><br><span class="line">		Class a1 = <span class="keyword">int</span>.class;</span><br><span class="line">		Class a2 = Integer.class;</span><br><span class="line">		<span class="comment">// 2.获取该类的信息</span></span><br><span class="line"><span class="comment">//		System.out.println(&quot;原始类型: &quot; + a1.isPrimitive());</span></span><br><span class="line"><span class="comment">//		System.out.println(&quot;原始类型: &quot; + a2.isPrimitive());</span></span><br><span class="line">		System.out.println(<span class="string">&quot;基本类型: &quot;</span> + a.isPrimitive());</span><br><span class="line">		System.out.println(<span class="string">&quot;类完整名: &quot;</span> + a.getName());</span><br><span class="line">		System.out.println(<span class="string">&quot;类简写名: &quot;</span> + a.getSimpleName());</span><br><span class="line">		System.out.println(<span class="string">&quot;类修饰符: &quot;</span> + Modifier.toString(a.getModifiers()));</span><br><span class="line">		System.out.println(<span class="string">&quot;是否为父类|接口: &quot;</span> + a.isAssignableFrom(B.class));</span><br><span class="line">		System.out.println(<span class="string">&quot;父类: &quot;</span> + a.getSuperclass());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// default是不写</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="获取类成员"><a href="#获取类成员" class="headerlink" title="获取类成员"></a>获取类成员</h3><blockquote>
<p>动态获取类成员 Class</p>
</blockquote>
<ul>
<li><p>Filed 属性/字段</p>
<ul>
<li>getFileds(); 拿父类和本类的公有修饰字段</li>
<li>getFiled(String name); 拿指定公有字段</li>
<li><strong>getDeclaredFileds() 拿本类所有修饰符字段，不能获取父类的任意字段</strong> </li>
<li>getDeclaredFiled(String name) 拿指定所有修饰符字段</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getFiled</span><span class="params">(Class&lt;?&gt; a)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//		Field[] fields = a.getFields(); // 只能获取本类公有字段</span></span><br><span class="line">		<span class="comment">//		for (Field field : fields) &#123;</span></span><br><span class="line">		<span class="comment">//			System.out.println(field);</span></span><br><span class="line">		<span class="comment">//		&#125;</span></span><br><span class="line">				System.out.println(<span class="string">&quot;---declared----start&quot;</span>);</span><br><span class="line">				Field[] declaredFields = a.getDeclaredFields(); <span class="comment">// 可以获取本类所有</span></span><br><span class="line">				StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">				<span class="keyword">for</span> (Field field : declaredFields) &#123;</span><br><span class="line">					<span class="comment">// public int id  修饰符 类型（不要包）名字</span></span><br><span class="line">					sb.delete(<span class="number">0</span>, sb.length()); <span class="comment">// 清除上一次的内容</span></span><br><span class="line">					System.out.println(sb</span><br><span class="line">							.append(Modifier.toString(field.getModifiers())+<span class="string">&quot; &quot;</span>)</span><br><span class="line">							.append(field.getType().getSimpleName() + <span class="string">&quot; &quot;</span>)</span><br><span class="line">							.append(field.getName()) + <span class="string">&quot; &quot;</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(<span class="string">&quot;---declared----end&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//		Field ageField = a.getDeclaredField(&quot;age&quot;); // 获取指定字段</span></span><br><span class="line">		<span class="comment">//		System.out.println(ageField);</span></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Method 方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getMethod</span><span class="params">(Class&lt;?&gt; a)</span> <span class="keyword">throws</span> NoSuchMethodException </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;start---&quot;</span>);</span><br><span class="line">		Method[] declaredMethods = a.getDeclaredMethods();</span><br><span class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		<span class="keyword">for</span> (Method method : declaredMethods) &#123;</span><br><span class="line">			sb.delete(<span class="number">0</span>, sb.length());</span><br><span class="line">			<span class="comment">// public static int setAge(int age,int id)&#123;&#125;</span></span><br><span class="line">			StringBuilder s1 = sb</span><br><span class="line">			.append(Modifier.toString(method.getModifiers()) + <span class="string">&quot; &quot;</span>)</span><br><span class="line">			.append(method.getReturnType().getSimpleName() + <span class="string">&quot; &quot;</span>)</span><br><span class="line">			.append(method.getName());</span><br><span class="line">			<span class="comment">// 遍历参数数组 s2</span></span><br><span class="line">			Parameter[] parameters = method.getParameters();</span><br><span class="line">			s1.append(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">			<span class="keyword">for</span> (Parameter param : parameters) &#123;</span><br><span class="line">				s1.append(param.getType().getSimpleName() + <span class="string">&quot; &quot;</span>);</span><br><span class="line">				s1.append(param.getName() + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			s1.append(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">			System.out.println(sb);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;end....&quot;</span>);</span><br><span class="line">		Method declaredMethod = a.getDeclaredMethod(<span class="string">&quot;hello&quot;</span>, <span class="keyword">int</span>.class,String.class);</span><br><span class="line">		System.out.println(declaredMethod);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Constructor 构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getConstuctor</span><span class="params">(Class&lt;?&gt; a)</span> </span>&#123;</span><br><span class="line">		Constructor&lt;?&gt;[] dcs = a.getDeclaredConstructors();</span><br><span class="line">		<span class="keyword">for</span> (Constructor&lt;?&gt; constructor : dcs) &#123;</span><br><span class="line">			System.out.println(constructor);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Annotation 注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> flag = a.isAnnotationPresent(MyAnno.class);</span><br><span class="line"><span class="keyword">if</span>(flag) &#123;</span><br><span class="line">  MyAnno annotation = a.getAnnotation(MyAnno.class);</span><br><span class="line">  String value = annotation.value();</span><br><span class="line">  System.out.println(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(value = &#123;ElementType.TYPE,ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnno&#123;</span><br><span class="line">	<span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="操作类成员"><a href="#操作类成员" class="headerlink" title="操作类成员"></a>操作类成员</h3><blockquote>
<p>动态操作类成员Class</p>
</blockquote>
<ul>
<li><p>操作字段 设置值</p>
<ul>
<li>私有值可以更改</li>
<li>静态值可以更改</li>
<li>常量值可以更改</li>
<li><strong>静态常量不可以更改</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">operatorMethod</span><span class="params">(Class&lt;?&gt; a)</span></span></span><br><span class="line"><span class="function">			<span class="keyword">throws</span> InstantiationException, IllegalAccessException, NoSuchFieldException </span>&#123;</span><br><span class="line">		Object stu = a.newInstance();</span><br><span class="line">		Field nameField = a.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">		<span class="comment">// stu.name= &quot;tom&quot;;</span></span><br><span class="line">		nameField.set(stu, <span class="string">&quot;briup&quot;</span>);</span><br><span class="line">		System.out.println(nameField.get(stu)); <span class="comment">// stu.name</span></span><br><span class="line">		Field aField = a.getDeclaredField(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		aField.setAccessible(<span class="keyword">true</span>); <span class="comment">// 私有字段</span></span><br><span class="line">		aField.set(stu, <span class="number">2</span>);</span><br><span class="line">		System.out.println(aField.get(stu));</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>操作方法 调用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Object stu = a.newInstance();</span><br><span class="line">		Method methodHello = a.getDeclaredMethod(<span class="string">&quot;hello&quot;</span>, <span class="keyword">int</span>.class,String.class);</span><br><span class="line">		methodHello.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">		<span class="comment">// stu.hello(1,&quot;briup&quot;); 调用方法</span></span><br><span class="line">		methodHello.invoke(stu, <span class="number">2</span>,<span class="string">&quot;briup111&quot;</span>);</span><br><span class="line">		System.out.println(stu);</span><br></pre></td></tr></table></figure></li>
<li><p>操作构造器 调用构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">operatorConstructor</span><span class="params">(Class&lt;?&gt; a)</span></span></span><br><span class="line"><span class="function">			<span class="keyword">throws</span> NoSuchMethodException, InstantiationException, IllegalAccessException, InvocationTargetException </span>&#123;</span><br><span class="line">		<span class="comment">//		Constructor&lt;?&gt; constructor = a.getDeclaredConstructor();</span></span><br><span class="line">		<span class="comment">//		// student 如果是私有构造器 设置可访问</span></span><br><span class="line">		<span class="comment">//		constructor.setAccessible(true);</span></span><br><span class="line">		<span class="comment">//		Student stu = (Student) constructor.newInstance();</span></span><br><span class="line">		<span class="comment">//		System.out.println(stu);</span></span><br><span class="line">				<span class="comment">// 简化写法</span></span><br><span class="line">		<span class="comment">//		Object newInstance = a.newInstance();</span></span><br><span class="line">		<span class="comment">//		System.out.println(newInstance);</span></span><br><span class="line">				Constructor&lt;?&gt; constructor = a.getDeclaredConstructor(<span class="keyword">int</span>.class,String.class,<span class="keyword">int</span>.class,<span class="keyword">char</span>.class);</span><br><span class="line">				<span class="comment">// student 如果是私有构造器 设置可访问</span></span><br><span class="line">				constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">				Student stu = (Student) constructor.newInstance(<span class="number">1</span>,<span class="string">&quot;tom&quot;</span>,<span class="number">18</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line">				System.out.println(stu);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>案例1</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Student s = <span class="keyword">new</span> Student(<span class="number">1</span>,<span class="string">&quot;tom&quot;</span>,<span class="number">18</span>);  get/set</span><br><span class="line"><span class="comment">// 复制一份地址不一样的，内容一样的对象</span></span><br><span class="line"><span class="number">1.</span>泛型 + 反射</span><br><span class="line"><span class="number">2.</span>clone();</span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">copy</span><span class="params">(T t)</span></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>案例2</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>在浏览器第一个窗口访问地址  多线程 + 网络 + io</span><br><span class="line">  	localhost:<span class="number">9999</span>/hello.txt 文件内容需要io读取</span><br><span class="line"><span class="number">2.</span>在浏览器第一个窗口访问地址 </span><br><span class="line">  	localhost:<span class="number">9999</span>/hello?role=admin</span><br><span class="line">      	调用hello方法并将返回值返回给浏览器</span><br><span class="line">      	该方法有权限注解（管理员 游客 vip） 只有管理员身份</span><br><span class="line">      		该三个值在文件 role.txt中 -&gt; 集合</span><br><span class="line"><span class="number">3.</span>如果访问的/hello2 没有这个资源</span><br><span class="line">      返回异常信息 异常+枚举</span><br><span class="line">      	 资源找不到</span><br><span class="line">         权限不足</span><br><span class="line">      自定义异常&#123;</span><br><span class="line">    		code <span class="number">200</span>  <span class="number">403</span> 权限不足 <span class="number">404</span> 无资源</span><br><span class="line">        msg</span><br><span class="line">        时间戳</span><br><span class="line">      &#125;</span><br><span class="line">			枚举异常对象</span><br><span class="line"><span class="number">4.</span>服务器一直能接受客户端 </span><br><span class="line"> - admin - guest - normal</span><br><span class="line"> <span class="meta">@Role(admin,normal)</span>  -&gt; role.<span class="function">txt</span></span><br><span class="line"><span class="function"> <span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line"> &#125;</span><br><span class="line">        </span><br><span class="line"> <span class="meta">@interface</span> Role&#123;</span><br><span class="line">       String[] values;</span><br><span class="line"> &#125;</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomerException</span></span>&#123;</span><br><span class="line">	String msg;</span><br><span class="line">  <span class="keyword">int</span> code;</span><br><span class="line">  <span class="keyword">long</span> time;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><blockquote>
<p>底层的数据结构</p>
</blockquote>
<ul>
<li><p>数组 增删慢 查找快</p>
</li>
<li><p>链表 增删快 查找慢</p>
</li>
</ul>
<blockquote>
<p>由底层数据结构构成的新数据结构</p>
</blockquote>
<h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><blockquote>
<p>接口</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.structor.stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 栈接口: 先进后出</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> vanse</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyStack</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="comment">// 压栈</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(T t)</span></span>;</span><br><span class="line">	<span class="comment">// 弹栈</span></span><br><span class="line">	<span class="function">T <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="comment">// 栈顶数据</span></span><br><span class="line">	<span class="function">T <span class="title">peek</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="comment">// 遍历栈</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="comment">// 容量</span></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>数组实现</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.structor.stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">size</span></span><br><span class="line"><span class="comment">3      4</span></span><br><span class="line"><span class="comment">2      3</span></span><br><span class="line"><span class="comment">1      2</span></span><br><span class="line"><span class="comment">0      1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyArrayStack</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">MyStack</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// 组装数组</span></span><br><span class="line">    <span class="keyword">private</span> Object[] elementData;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ELEMENT_CAPACITY = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化栈 默认容量为10</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyArrayStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(ELEMENT_CAPACITY);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化栈 容量可自定义</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyArrayStack</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal Capacity: &quot;</span> +</span><br><span class="line">                    initialCapacity);</span><br><span class="line">        elementData = <span class="keyword">new</span> Object[initialCapacity];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size == elementData.length - <span class="number">1</span>) &#123;</span><br><span class="line">            elementData = Arrays.copyOf(elementData, elementData.length &lt;&lt; <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        elementData[size++] = t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Object temp = elementData[--size];</span><br><span class="line">        elementData[size] = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> (T) temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size == <span class="number">0</span> ? <span class="keyword">null</span> : (T) elementData[size - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                sb.append(elementData[i]);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(elementData[i] + <span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(sb.append(<span class="string">&quot;]&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<blockquote>
<p>链表实现</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.structor.stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyLinkedStack</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">MyStack</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyNode</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> T data;</span><br><span class="line">        <span class="keyword">public</span> MyNode&lt;T&gt; nextNode;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyNode</span><span class="params">(T data, MyNode next)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.data = data;</span><br><span class="line">            <span class="keyword">this</span>.nextNode = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> MyNode&lt;T&gt; head;</span><br><span class="line">    <span class="comment">// 栈中元素个数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyLinkedStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> MyNode&lt;T&gt;(<span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 组装链表</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">        MyNode oldNode = head.nextNode;</span><br><span class="line">        <span class="comment">// 新节点指向老节点</span></span><br><span class="line">        MyNode node = <span class="keyword">new</span> MyNode(t, oldNode);</span><br><span class="line">        <span class="comment">// 头节点指向新节点</span></span><br><span class="line">        head.nextNode = node;</span><br><span class="line">        size++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MyNode&lt;T&gt; topNode = head.nextNode; <span class="comment">// 第一个元素</span></span><br><span class="line">        <span class="keyword">if</span> (topNode == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>; <span class="comment">// 空栈</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 头节点指向新的栈顶节点(原栈顶的下一个节点)</span></span><br><span class="line">        head.nextNode = topNode.nextNode;</span><br><span class="line">        size--;</span><br><span class="line">        <span class="keyword">return</span> topNode.data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head.nextNode == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head.nextNode.data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">        MyNode h = head;</span><br><span class="line">        <span class="keyword">while</span> (h.nextNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">            MyNode nextNode = h.nextNode; <span class="comment">// 取出节点数据</span></span><br><span class="line">            <span class="keyword">if</span>(nextNode.nextNode == <span class="keyword">null</span>)&#123;</span><br><span class="line">                sb.append(nextNode.data+<span class="string">&quot;]&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(nextNode.data+<span class="string">&quot;,&quot;</span>);</span><br><span class="line">            h = nextNode; <span class="comment">//一直循环下一个节点</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;sb = &quot;</span> + sb);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><h1 id="chatgpt"><a href="#chatgpt" class="headerlink" title="chatgpt"></a>chatgpt</h1><p><strong>先安装油猴插件</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308221430280.png" alt="image-20230810104302678"></p>
<p><a target="_blank" rel="noopener" href="https://greasyfork.org/zh-CN/scripts?q=chatgpt">再安装chatgpt脚本</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/teaching/202308221429369.png" alt="image-20230810104412211"></p>
<h1 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h1><ul>
<li>ctrl + shift +  + 字体放大</li>
<li><strong>alt + /   提示</strong></li>
<li>ctrl + / 单行注释</li>
<li>ctrl + shfit+ / 多行注释</li>
<li>ctrl + alt + 下方向 复制</li>
<li>alt + 上下方向 移动位置</li>
<li>alt+ 左右方向 上一步下一步代码</li>
<li>ctrl + shift + f 格式化代码</li>
<li>alt+shift+r 重构类名</li>
<li>ctrl+1 快速接收变量</li>
<li>ctrl + n 快速创建 class package project</li>
<li>ctrl + d 快速删除一行</li>
<li>ctrl + shift + t 查找类型</li>
<li>alt + shfit + m 抽取方法</li>
<li>ctro + shift +o 一次导包</li>
<li>alt + shfit + s</li>
<li>ctrl + t 查看实现类</li>
<li>alt+shift+z 环绕代码（try catch synchronized）</li>
<li>alt+enter 文件属性</li>
</ul>
<p>​                                                                            </p>

                                            
                                              <!-- reward -->
                                              
                      </div>
                      

                        <!-- copyright -->
                        
                            <footer class="article-footer">
                              
                                    
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/basic/" rel="tag">basic</a></li></ul>

                            </footer>
  </div>

  
        
              
                    
                          
</article>
    
    <article id="post-0-soft" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>
  <div class="article-inner">
    
      <header class="article-header">
         
<h2 itemprop="name">
  <a class="article-title" href="/archives/0-soft.html"
    >0-软件</a> 
</h2>
 

          
      </header>
      
        
          <div class="article-meta">
            <a href="/archives/0-soft.html" class="article-date">
  <time datetime="2023-08-27T07:02:52.000Z" itemprop="datePublished">2023-08-27</time>
</a>
              
                
                  
                    
          </div>
          

            
                  
                      <div class="article-entry" itemprop="articleBody">
                        
                          

                            

                                      

                                          <h1 id="VM"><a href="#VM" class="headerlink" title="VM"></a>VM</h1><p>双击软件进行安装</p>
<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/linux/202308271647594.png" alt="image-20230717100951186"  />





<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649165.png" alt="image-20230717101011776"  />



<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649166.png" alt="image-20230717101031634"  />



<p>注意安装路径</p>
<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649167.png" alt="image-20230717101108254"  />



<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649168.png" alt="image-20230717101136381"  />



<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649169.png" alt="image-20230717101205181"  />



<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649170.png" alt="image-20230717101221681"  />

<img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649171.png" alt="image-20230717101237291"  />

<p>输入注册码后(以下任选一个),即可使用</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ZF3R0-FHED2-M80TY-8QYGC-NPKYF</span><br><span class="line">YF390-0HF8P-M81RQ-2DXQE-M2UT6</span><br><span class="line">ZF71R-DMX85-08DQY-8YMNC-PPHV8</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649172.png" alt="image-20230827164546795"></p>
<h1 id="idea"><a href="#idea" class="headerlink" title="idea"></a>idea</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>【1】intelliJ IDEA就是Java的IDE。<br>【2】市场占有率竹节攀升，超过了Eclipse。<br>【3】JetBrains公司介绍：<br>JetBrains是一家捷克的软件开发公司，该公司位于捷克的布拉格，并在俄罗斯的圣彼得堡及美国麻州波士顿都设有办公室，该公司最为人所熟知的产品是Java编程语言开发撰写时所用的集成开发环境：IntelliJ IDEA。它产品，比如：</p>
<ul>
<li>WebStorm：用于开发JavaScript、HTML5、CS3等前端技术；</li>
<li>PyCharm：用于开发python（python语言热度排行榜排名第一，在人工智能大数据领域应用）</li>
<li>PhpStorm：用于开发PHP</li>
<li>RubyMine：用于开发Ruby/Rails</li>
<li>AppCode：用于开发Objective-C/Swift，替换xcode的</li>
<li>CLion：用于开发C/C++</li>
<li>DataGrip：用于开发数据库和SQL</li>
<li>Rider：用于开发.NET</li>
<li>GoLand：用于开发Go（区块链主流开发语言就是Go语言）</li>
</ul>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><blockquote>
<p>官网下载 [idea 2023.2](<a target="_blank" rel="noopener" href="https://www.jetbrains.com/zh-cn/idea/download/?section=windows">https://www.jetbrains.com/zh-cn/idea/download/?section=windows</a> 作者：安安说前端哦 <a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv25328397">https://www.bilibili.com/read/cv25328397</a> 出处：bilibili)后,双击打开安装</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649173.png" alt="image-20230827150733584"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649174.png" alt="image-20230827150808675"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649175.png" alt="image-20230827150838741"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649176.png" alt="image-20230827150853488"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649177.png" alt="image-20230827151054334"></p>
<blockquote>
<p>使用脚本和密钥注册使用</p>
</blockquote>
<p>运行第一个脚本 uninstall-all-user</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649178.png" alt="image-20230827151503092"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649179.png" alt="image-20230827151530951"></p>
<p>运行第二个脚本  install-all-user</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649180.png" alt="image-20230827151609925"></p>
<p>打开idea</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649181.png" alt="image-20230827151829341"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649182.png" alt="image-20230827151932050"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649183.png" alt="image-20230827152023664"></p>
<p>复制以下激活码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6G5NXCPJZB-eyJsaWNlbnNlSWQiOiI2RzVOWENQSlpCIiwibGljZW5zZWVOYW1lIjoic2lnbnVwIHNjb290ZXIiLCJhc3NpZ25lZU5hbWUiOiIiLCJhc3NpZ25lZUVtYWlsIjoiIiwibGljZW5zZVJlc3RyaWN0aW9uIjoiIiwiY2hlY2tDb25jdXJyZW50VXNlIjpmYWxzZSwicHJvZHVjdHMiOlt7ImNvZGUiOiJQU0kiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBEQiIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiSUkiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOmZhbHNlfSx7ImNvZGUiOiJQUEMiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBHTyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFNXIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBQUyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFJCIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQQ1dNUCIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX1dLCJtZXRhZGF0YSI6IjAxMjAyMjA5MDJQU0FOMDAwMDA1IiwiaGFzaCI6IlRSSUFMOi0xMDc4MzkwNTY4IiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-SnRVlQQR1/9nxZ2AXsQ0seYwU5OjaiUMXrnQIIdNRvykzqQ0Q+vjXlmO7iAUwhwlsyfoMrLuvmLYwoD7fV8Mpz9Gs2gsTR8DfSHuAdvZlFENlIuFoIqyO8BneM9paD0yLxiqxy/WWuOqW6c1v9ubbfdT6z9UnzSUjPKlsjXfq9J2gcDALrv9E0RPTOZqKfnsg7PF0wNQ0/d00dy1k3zI+zJyTRpDxkCaGgijlY/LZ/wqd/kRfcbQuRzdJ/JXa3nj26rACqykKXaBH5thuvkTyySOpZwZMJVJyW7B7ro/hkFCljZug3K+bTw5VwySzJtDcQ9tDYuu0zSAeXrcv2qrOg==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+<span class="number">5</span>/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0<span class="comment">//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649184.png" alt="image-20230827152111980"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649185.png" alt="image-20230827152342137"></p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>创建项目</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649186.png" alt="image-20230827152409517"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649187.png" alt="image-20230827152942311"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649188.png" alt="image-20230827153153116"></p>
<h2 id="默认"><a href="#默认" class="headerlink" title="默认"></a>默认</h2><p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649190.png" alt="image-20230827154532473"></p>
<p><strong>注意1: 在Eclipse中我们有Workspace（工作空间）和Project（工程）的概念，在IDEA中只有Project（工程）和Module（模块）的概念。</strong></p>
<p>IDEA官网说明：<br>An Eclipse workspace is similar to a project in IntelliJ IDEA An Eclipse project maps to a module in  IntelliJ IDEA</p>
<ul>
<li>Eclipse中 workspace 相当于IDEA中的Project </li>
</ul>
<ul>
<li>Eclipse中Project 相当于IDEA中的Module</li>
</ul>
<p>在IntelliJ IDEA中Project（工程）是最顶级的级别，次级别是Module（模块）。</p>
<p><code>一个Project下可以有多个Module。</code></p>
<p><strong>注意2: 从Eclipse 转过来的人总是下意识地要在同一个窗口管理n个项目，这在Intellj IDEA是无法做到的。Intellj IDEA提供的解决方案是打开多个项目实例，即打开多个项目窗口。即：一个Project 打开一个Window窗口。</strong></p>
<p><strong>注意3: out目录 存放的是编译后的字节码文件</strong></p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>进入设置</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649191.png" alt="image-20230827154958523"></p>
<blockquote>
<p>UI 默认是新UI,过于简化和紧凑,可设置旧UI</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649192.png" alt="image-20230827155117581"></p>
<p>设置后需要重启idea才能生效</p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649193.png" alt="image-20230827155320177"></p>
<blockquote>
<p>主题: 默认是暗黑主题,可设置白色背景或者下载第三方主题</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649194.png" alt="image-20230827155353029"></p>
<blockquote>
<p>滚轮改变字体大小</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649195.png" alt="image-20230827155509314"></p>
<blockquote>
<p>方法分割符</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649196.png" alt="image-20230827155847817"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649197.png" alt="image-20230827155900574"></p>
<blockquote>
<p>自动导包和优化包</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649198.png" alt="image-20230827160004560"></p>
<blockquote>
<p>提示代码忽略大小写</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649199.png" alt="image-20230827160402057"></p>
<blockquote>
<p>同时打开的代码标签数量</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649200.png" alt="image-20230827160714450"></p>
<blockquote>
<p>注释颜色</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649201.png" alt="image-20230827160953151"></p>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649202.png" alt="image-20230827161125162"></p>
<blockquote>
<p>自动添加类上的文档注释(只对新建类有效)</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649203.png" alt="image-20230827161601312"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*<span class="doctag">@Auther</span>: vanse(lc))</span></span><br><span class="line"><span class="comment">*<span class="doctag">@Date</span>: $&#123;DATE&#125;-$&#123;MONTH&#125;-$&#123;DAY&#125;-$&#123;TIME&#125;</span></span><br><span class="line"><span class="comment">*<span class="doctag">@Description</span>：$&#123;PACKAGE_NAME&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>方法注释</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649204.png" alt="image-20230827162433976"></p>
<blockquote>
<p>统一编码</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649205.png" alt="image-20230827162603817"></p>
<blockquote>
<p>自动编译</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649206.png" alt="image-20230827162749995"></p>
<blockquote>
<p>添加序列化id</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649207.png" alt="image-20230827163051650"></p>
<blockquote>
<p>快捷键</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/wangsidandan/blog_images@main/soft/202308271649208.png" alt="image-20230827163312736"></p>
<h2 id="代码模板"><a href="#代码模板" class="headerlink" title="代码模板"></a>代码模板</h2><table>
<thead>
<tr>
<th>模板</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>psvm</td>
<td>生成main方法</td>
</tr>
<tr>
<td>sout</td>
<td>生成打印语句</td>
</tr>
<tr>
<td>soutv</td>
<td>输出就近变量</td>
</tr>
<tr>
<td>soutp</td>
<td>输出参数</td>
</tr>
<tr>
<td>soutm</td>
<td>输出方法名称</td>
</tr>
<tr>
<td>soutf</td>
<td>格式化输出</td>
</tr>
<tr>
<td>soutc</td>
<td>方法引用</td>
</tr>
<tr>
<td>fori</td>
<td>for循环</td>
</tr>
<tr>
<td>itar</td>
<td>普通for循环</td>
</tr>
<tr>
<td>ritar</td>
<td>反转for循环</td>
</tr>
<tr>
<td>iter</td>
<td>增强for循环</td>
</tr>
<tr>
<td>list.for</td>
<td>集合for循环</td>
</tr>
<tr>
<td>itli</td>
<td>遍历list</td>
</tr>
<tr>
<td>itm</td>
<td>遍历map</td>
</tr>
<tr>
<td>itit</td>
<td>遍历迭代器</td>
</tr>
<tr>
<td>ifn</td>
<td>if null</td>
</tr>
<tr>
<td>inn</td>
<td>if not null</td>
</tr>
<tr>
<td>psf</td>
<td>public static final</td>
</tr>
<tr>
<td>psfi</td>
<td>public static final int</td>
</tr>
<tr>
<td>psfs</td>
<td>public static final String</td>
</tr>
<tr>
<td>prsf</td>
<td>private static final</td>
</tr>
</tbody></table>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><ul>
<li><p>lombok 简化toString/setter/getter等和slf4j</p>
</li>
<li><p>Mybatis Log Plugin mybatis运行sql日志</p>
</li>
<li><p>jrebel 热部署(收费)</p>
</li>
<li><p>MybatisCodeHelperPro（收费）</p>
</li>
<li><p>mybatisX mybatis生成工具</p>
</li>
<li><p>RestfulToolKit result风格生成</p>
</li>
<li><p>Zoolytic zookeeper连接</p>
</li>
<li><p>Rainbow Brackets 彩虹括号</p>
</li>
<li><p>Maven Helper maven增强工具</p>
</li>
<li><p>.ignore git忽略</p>
</li>
<li><p>Background Image Plus 背景图片设置</p>
<ul>
<li>stackoverflow 报错查找网站</li>
</ul>
</li>
<li><p>Translation 翻译插件</p>
</li>
<li><p>**Atom Material Icons **图标</p>
</li>
<li><p>jclasslib bytecode view</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://plugins.jetbrains.com/plugin/15727-xcode-theme">https://plugins.jetbrains.com/plugin/15727-xcode-theme</a></p>
</li>
<li><p>Java Visualizer 栈可视化</p>
<ul>
<li>idea memory view</li>
</ul>
</li>
</ul>

                                            
                                              <!-- reward -->
                                              
                      </div>
                      

                        <!-- copyright -->
                        
                            <footer class="article-footer">
                              
                                    
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/soft/" rel="tag">soft</a></li></ul>

                            </footer>
  </div>

  
        
              
                    
                          
</article>
    
  </article>
  

  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> vanse
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="vanse"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/playlist">音乐</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/photos">相册</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://gitee.com/vanse/images/raw/master/bruip_course/aliapy.png">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://gitee.com/vanse/images/raw/master/bruip_course/wechat.png">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=506654324&auto=0&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    
<script>
  const password = "vance";
  const lock_password = window.sessionStorage.getItem("lock_password");
  console.log(password, lock_password);
  if (lock_password !== password) {
    Swal.fire({
      title: "请输入访问密码",
      input: "password",
      inputAttributes: {
        autocapitalize: "off",
      },
      showCancelButton: false,
      showLoaderOnConfirm: true,
      allowOutsideClick: false,
      confirmButtonText: "确定",
    }).then((result) => {
      console.log(result);
      if (result.isConfirmed) {
        console.log(password);
        if (result.value === password) {
          window.sessionStorage.setItem("lock_password", result.value);
        } else {
          Swal.fire({
            icon: "error",
            title: "密码错误，请重试",
            confirmButtonText: "确定",
            allowOutsideClick: false,
          }).then(() => {
            window.location.reload();
          });
        }
      }
    });
  }
</script>


  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>